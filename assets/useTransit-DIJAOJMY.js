import{a9 as a,aa as d,a7 as o,ab as c,ac as i}from"./index-BFkHSXE8.js";const n={getRoutes:async t=>(await a.get("/transit/routes",{params:t})).data,getRoute:async t=>(await a.get(`/transit/routes/${t}`)).data,createRoute:async t=>(await a.post("/transit/routes",t)).data,updateRoute:async(t,e)=>(await a.patch(`/transit/routes/${t}`,e)).data,deleteRoute:async t=>{await a.delete(`/transit/routes/${t}`)},getStations:async()=>(await a.get("/transit/stations")).data,createStation:async t=>(await a.post("/transit/stations",t)).data,updateStation:async(t,e)=>(await a.patch(`/transit/stations/${t}`,e)).data,deleteStation:async t=>{await a.delete(`/transit/stations/${t}`)},getVehicles:async()=>(await a.get("/transit/vehicles")).data,createVehicle:async t=>(await a.post("/transit/vehicles",t)).data,updateVehicle:async(t,e)=>(await a.patch(`/transit/vehicles/${t}`,e)).data,deleteVehicle:async t=>{await a.delete(`/transit/vehicles/${t}`)},getVehicleLocation:async t=>(await a.get(`/transit/vehicles/${t}/location`)).data,getVehicleLocations:async()=>(await a.get("/transit/vehicles/locations")).data,getRouteAnalytics:async(t,e)=>(await a.get(`/transit/routes/${t}/analytics`,{params:{date:e}})).data,optimizeRoute:async t=>(await a.post(`/transit/routes/${t}/optimize`)).data},s="transit",u="routes",p="stations",h="vehicles",M=t=>d({queryKey:[s,u,t],queryFn:async()=>{if(o()){const e=["1路","2路","10路","15路","22路","快线1号","夜班1号"];return{data:Array.from({length:7}).map((r,l)=>({id:`route-${l+1}`,name:e[l],code:`R${100+l}`,type:["LINEAR","CIRCULAR","EXPRESS"][Math.floor(Math.random()*3)],status:["ACTIVE","SUSPENDED","MAINTENANCE"][Math.floor(Math.random()*3)],totalDistance:(Math.random()*20+5).toFixed(1),estimatedDuration:Math.floor(Math.random()*60+30),activeVehicles:Math.floor(Math.random()*15+5),todayTransactions:Math.floor(Math.random()*3e3+500),todayRevenue:Math.floor(Math.random()*15e3+2e3),stations:Array.from({length:Math.floor(Math.random()*8+4)}).map((m,y)=>({id:`station-${y}`,name:`站点 ${y+1}`})),description:"Demo Route",stationIds:[],segments:[],schedules:[],fareRules:[],vehicles:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}}return n.getRoutes(t)},refetchInterval:o()?5e3:!1}),g=()=>{const t=c();return i({mutationFn:e=>n.createRoute(e),onSuccess:()=>{t.invalidateQueries({queryKey:[s,u]})}})},f=()=>{const t=c();return i({mutationFn:e=>n.deleteRoute(e),onSuccess:()=>{t.invalidateQueries({queryKey:[s,u]})}})},R=()=>{const t=c();return i({mutationFn:e=>n.optimizeRoute(e),onSuccess:(e,r)=>{t.invalidateQueries({queryKey:[s,u,r]}),t.invalidateQueries({queryKey:[s,u]})}})},E=()=>d({queryKey:[s,p],queryFn:async()=>o()?{data:Array.from({length:8}).map((t,e)=>({id:`station-${e+1}`,name:`Station ${String.fromCharCode(65+e)}`,code:`ST-${100+e}`,address:`${e+1} Main St, City Center`,latitude:31.2304+(Math.random()-.5)*.1,longitude:121.4737+(Math.random()-.5)*.1,isActive:!0,facilities:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}:n.getStations()}),A=()=>{const t=c();return i({mutationFn:e=>n.createStation(e),onSuccess:()=>{t.invalidateQueries({queryKey:[s,p]})}})},I=()=>d({queryKey:[s,h],queryFn:async()=>o()?{data:Array.from({length:12}).map((t,e)=>({id:`vehicle-${e+1}`,plateNumber:`沪A${Math.floor(Math.random()*9e3)+1e3}`,type:["BUS","MINIBUS","ELECTRIC_BUS"][Math.floor(Math.random()*3)],status:["OPERATIONAL","MAINTENANCE","OUT_OF_SERVICE"][Math.floor(Math.random()*3)],capacity:40+Math.floor(Math.random()*30),currentPassengers:Math.floor(Math.random()*35),features:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}))}:n.getVehicles(),refetchInterval:o()?5e3:!1}),w=()=>{const t=c();return i({mutationFn:e=>n.createVehicle(e),onSuccess:()=>{t.invalidateQueries({queryKey:[s,h]})}})},v=()=>d({queryKey:[s,h,"locations"],queryFn:async()=>{if(o())return Array.from({length:12}).map((e,r)=>({vehicleId:`vehicle-${r+1}`,location:{latitude:31.2304+(Math.random()-.5)*.1,longitude:121.4737+(Math.random()-.5)*.1,speed:Math.floor(Math.random()*60+10),heading:Math.floor(Math.random()*360)},timestamp:new Date().toISOString()}));const t=await n.getVehicleLocations();return Array.isArray(t)?t:(t==null?void 0:t.data)||[]},refetchInterval:o()?5e3:3e4}),C=()=>i({mutationFn:async t=>(await new Promise(e=>setTimeout(e,1500)),t==="VERIFY"?{success:!0,status:"VERIFIED",score:98}:{success:!0,nextStep:!0})});export{M as a,E as b,I as c,v as d,g as e,A as f,w as g,f as h,R as i,C as u};
