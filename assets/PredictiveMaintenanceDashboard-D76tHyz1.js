import{c as O,at as z,z as N,Y,j as e,A as X,m as j,X as _,e as V,C as y,R as Q,V as E,H as P,B as T}from"./index-KUzzjCqU.js";import{r as u}from"./vendor-wU5nTCpQ.js";import{u as L}from"./i18n-DUSRnG8c.js";import{F as S}from"./file-text-B-JDuNWC.js";import{B as M,H as W}from"./hard-drive-BGJrBr7K.js";import{T as I}from"./trending-down-B9iDy4yt.js";import{D as Z}from"./download-DCtAoJHp.js";import{C as R,W as q}from"./wifi-BbC7Oodw.js";import{R as k,A as F,C as $,X as U,Y as G,T as w,f as D,a as C,e as J,d as ee,P as te,b as se,c as ae}from"./charts-BXxqj8Ps.js";import{C as le}from"./calendar-DIP5bLSS.js";import{W as re}from"./wrench-BTFet6du.js";import{M as ie}from"./more-horizontal-C0NLNuvM.js";import"./ui--kwEMLq0.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=O("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=O("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),r={id:"DEV-2024-001",name:"Terminal A-101",type:"ONBOARD",status:"ONLINE",serialNumber:"SN2024001",manufacturer:"Decard",model:"P18Q-Pro",firmwareVersion:"v2.4.1",purchaseDate:"2024-01-15",warrantyExpiry:"2027-01-15",location:"Line 1 - Station A",route:"Route 101",lastSync:"2026-02-15 08:30:00"},ne=[{timestamp:"00:00",cpu:45,memory:60,temperature:38},{timestamp:"04:00",cpu:42,memory:58,temperature:37},{timestamp:"08:00",cpu:65,memory:72,temperature:42},{timestamp:"12:00",cpu:58,memory:68,temperature:40},{timestamp:"16:00",cpu:72,memory:75,temperature:44},{timestamp:"20:00",cpu:55,memory:62,temperature:39},{timestamp:"23:59",cpu:48,memory:58,temperature:38}],ce=[{id:1,timestamp:"2026-02-15 08:30:00",level:"INFO",message:"System heartbeat OK",source:"HealthMonitor"},{id:2,timestamp:"2026-02-15 08:25:00",level:"WARN",message:"High temperature detected: 42°C",source:"ThermalSensor"},{id:3,timestamp:"2026-02-15 08:20:00",level:"INFO",message:"Firmware check completed",source:"UpdateService"},{id:4,timestamp:"2026-02-15 08:15:00",level:"ERROR",message:"Network connection timeout",source:"NetworkManager"},{id:5,timestamp:"2026-02-15 08:10:00",level:"INFO",message:"Daily maintenance completed",source:"Maintenance"}],x={failureProbability:23,estimatedFailureDate:"2026-03-15",healthScore:78,recommendations:[{id:1,priority:"HIGH",title:"电池容量下降至 87%",description:"建议在未来 30 天内安排电池检查"},{id:2,priority:"MEDIUM",title:"存储空间使用率达 65%",description:"建议清理日志文件以释放空间"},{id:3,priority:"LOW",title:"温度传感器读数偏高",description:"建议检查设备通风状况"}]},oe=[{name:"CPU 温度",value:42,unit:"°C",status:"normal",icon:B},{name:"电池电量",value:87,unit:"%",status:"normal",icon:de},{name:"存储使用",value:65,unit:"%",status:"warning",icon:W},{name:"网络延迟",value:23,unit:"ms",status:"normal",icon:q},{name:"运行时间",value:720,unit:"h",status:"normal",icon:V}];function xe({deviceId:s,isOpen:n,onClose:i}){const{t}=L(),[c,o]=u.useState("basic"),m=[{id:"basic",label:t("device.tabs.basic"),icon:z},{id:"health",label:t("device.tabs.health"),icon:N},{id:"logs",label:t("device.tabs.logs"),icon:S},{id:"operations",label:t("device.tabs.operations"),icon:Y},{id:"predictive",label:t("device.tabs.predictive"),icon:M}],h=()=>{switch(c){case"basic":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(d,{label:t("device.id"),value:r.id}),e.jsx(d,{label:t("device.name"),value:r.name}),e.jsx(d,{label:t("device.type"),value:r.type}),e.jsx(d,{label:t("device.status"),value:r.status,badge:!0}),e.jsx(d,{label:t("device.serialNumber"),value:r.serialNumber}),e.jsx(d,{label:t("device.manufacturer"),value:r.manufacturer}),e.jsx(d,{label:t("device.model"),value:r.model}),e.jsx(d,{label:t("device.firmware"),value:r.firmwareVersion,badge:!0}),e.jsx(d,{label:t("device.purchaseDate"),value:r.purchaseDate}),e.jsx(d,{label:t("device.warrantyExpiry"),value:r.warrantyExpiry}),e.jsx(d,{label:t("device.location"),value:r.location}),e.jsx(d,{label:t("device.route"),value:r.route}),e.jsx(d,{label:t("device.lastSync"),value:r.lastSync})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:oe.map(l=>e.jsx(me,{...l},l.name))})]});case"health":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(f,{title:t("device.health.cpuUsage"),value:"45%",trend:"-2%",status:"normal",icon:R}),e.jsx(f,{title:t("device.health.memoryUsage"),value:"62%",trend:"+5%",status:"warning",icon:W}),e.jsx(f,{title:t("device.health.temperature"),value:"42°C",trend:"+3°C",status:"warning",icon:B})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:t("device.health.24hTrend")}),e.jsx("div",{className:"h-64",children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(F,{data:ne,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorMemory",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx($,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),e.jsx(U,{dataKey:"timestamp",stroke:"#64748b"}),e.jsx(G,{stroke:"#64748b"}),e.jsx(w,{}),e.jsx(D,{}),e.jsx(C,{type:"monotone",dataKey:"cpu",name:t("device.health.cpu"),stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCpu)"}),e.jsx(C,{type:"monotone",dataKey:"memory",name:t("device.health.memory"),stroke:"#10b981",fillOpacity:1,fill:"url(#colorMemory)"}),e.jsx(J,{type:"monotone",dataKey:"temperature",name:t("device.health.temperature"),stroke:"#f59e0b",strokeWidth:2})]})})})]})]});case"logs":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{type:"button",className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg text-sm font-medium",children:t("device.logs.all")}),e.jsx("button",{type:"button",className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium",children:t("device.logs.info")}),e.jsx("button",{type:"button",className:"px-3 py-1.5 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-lg text-sm font-medium",children:t("device.logs.warning")}),e.jsx("button",{type:"button",className:"px-3 py-1.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-lg text-sm font-medium",children:t("device.logs.error")})]}),e.jsx("div",{className:"space-y-2",children:ce.map(l=>e.jsx("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${l.level==="INFO"?"bg-blue-100 text-blue-700":l.level==="WARN"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:l.level}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:l.message}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[l.source," • ",l.timestamp]})]})]})})},l.id))})]});case"operations":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{type:"button",className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(Q,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t("device.operations.reboot")}),e.jsx("p",{className:"text-sm text-slate-500",children:t("device.operations.rebootDesc")})]})]})}),e.jsx("button",{type:"button",className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(Z,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t("device.operations.sync")}),e.jsx("p",{className:"text-sm text-slate-500",children:t("device.operations.syncDesc")})]})]})}),e.jsx("button",{type:"button",className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl border border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t("device.operations.firmware")}),e.jsx("p",{className:"text-sm text-slate-500",children:t("device.operations.firmwareDesc")})]})]})}),e.jsx("button",{type:"button",className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-xl border border-orange-200 dark:border-orange-800 hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx(S,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:t("device.operations.logs")}),e.jsx("p",{className:"text-sm text-slate-500",children:t("device.operations.logsDesc")})]})]})})]})});case"predictive":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:t("device.predictive.healthScore")}),e.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"-2%"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",role:"img","aria-label":"Health Score",children:[e.jsx("title",{children:"Health Score"}),e.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#e2e8f0",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"48",cy:"48",r:"40",stroke:"#f59e0b",strokeWidth:"8",fill:"none",strokeDasharray:`${x.healthScore*2.51} 251`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:x.healthScore})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:t("device.predictive.scoreDescription")}),e.jsx("p",{className:"text-sm font-medium text-yellow-600 mt-1",children:t("device.predictive.maintenanceRecommended")})]})]})]}),e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:t("device.predictive.failureRisk")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-600",children:t("device.predictive.probability")}),e.jsxs("span",{className:"font-medium text-slate-900",children:[x.failureProbability,"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:`${x.failureProbability}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsxs("span",{children:[t("device.predictive.estimatedFailure"),": ",x.estimatedFailureDate]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:t("device.predictive.recommendations")}),e.jsx("div",{className:"space-y-3",children:x.recommendations.map(l=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${l.priority==="HIGH"?"bg-red-100 text-red-700":l.priority==="MEDIUM"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:l.priority}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-slate-900 dark:text-slate-100",children:l.title}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:l.description})]}),e.jsx(y,{className:"w-5 h-5 text-slate-400"})]},l.id))})]})]});default:return null}};return s?e.jsx(X,{children:n&&e.jsxs(e.Fragment,{children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/50 z-40"}),e.jsxs(j.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-4xl bg-slate-50 dark:bg-slate-900 z-50 shadow-2xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:r.name}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:s})]}),e.jsx("button",{type:"button",onClick:i,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(_,{className:"w-5 h-5 text-slate-500"})})]}),e.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:m.map(l=>{const v=l.icon;return e.jsxs("button",{type:"button",onClick:()=>o(l.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium transition-colors border-b-2 ${c===l.id?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[e.jsx(v,{className:"w-4 h-4"}),l.label]},l.id)})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:h()})]})]})}):null}function d({label:s,value:n,badge:i}){return e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-1",children:s}),i?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),n]}):e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:n})]})}function me({name:s,value:n,unit:i,status:t,icon:c}){return e.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`p-2 rounded-lg ${t==="warning"?"bg-yellow-100":"bg-blue-100"}`,children:e.jsx(c,{className:`w-4 h-4 ${t==="warning"?"text-yellow-600":"text-blue-600"}`})}),e.jsx("span",{className:"text-xs text-slate-500",children:s})]}),e.jsxs("p",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:[n,e.jsx("span",{className:"text-sm font-normal text-slate-500 ml-1",children:i})]})]})}function f({title:s,value:n,trend:i,status:t,icon:c}){const o=i.startsWith("-");return e.jsxs("div",{className:"p-6 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(c,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("span",{className:`flex items-center gap-1 text-sm font-medium ${o?"text-green-600":"text-red-600"}`,children:[o?e.jsx(I,{className:"w-4 h-4"}):e.jsx(E,{className:"w-4 h-4"}),i]})]}),e.jsx("h3",{className:"text-sm text-slate-500 mb-1",children:s}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n}),e.jsx("span",{className:`inline-flex items-center mt-2 px-2 py-0.5 rounded-full text-xs font-medium ${t==="normal"?"bg-green-100 text-green-700":t==="warning"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:t==="normal"?"正常":t==="warning"?"警告":"危险"})]})}const p={totalDevices:156,online:142,averageHealthScore:82,predictionsThisWeek:8,maintenanceScheduled:5},he=[{date:"02-09",score:85,failures:1},{date:"02-10",score:84,failures:0},{date:"02-11",score:83,failures:2},{date:"02-12",score:82,failures:1},{date:"02-13",score:81,failures:3},{date:"02-14",score:82,failures:0},{date:"02-15",score:82,failures:1}],A=[{name:"低风险",value:98,color:"#10b981"},{name:"中风险",value:42,color:"#f59e0b"},{name:"高风险",value:16,color:"#ef4444"}],H=[{id:1,deviceId:"DEV-2024-089",deviceName:"Terminal B-205",type:"TEMPERATURE",severity:"HIGH",description:"温度传感器读数异常升高 (68°C)",detectedAt:"2026-02-15 08:30:00",status:"ACTIVE"},{id:2,deviceId:"DEV-2024-067",deviceName:"Terminal A-112",type:"BATTERY",severity:"MEDIUM",description:"电池容量下降至 72%",detectedAt:"2026-02-15 07:15:00",status:"ACTIVE"},{id:3,deviceId:"DEV-2024-034",deviceName:"Validator C-301",type:"STORAGE",severity:"MEDIUM",description:"存储空间使用率超过 85%",detectedAt:"2026-02-15 06:45:00",status:"ACTIVE"},{id:4,deviceId:"DEV-2024-156",deviceName:"Terminal A-089",type:"NETWORK",severity:"LOW",description:"网络延迟波动较大",detectedAt:"2026-02-15 05:20:00",status:"RESOLVED"}],pe=[{id:1,deviceId:"DEV-2024-023",deviceName:"Terminal A-045",type:"PREVENTIVE",priority:"HIGH",scheduledDate:"2026-02-16",description:"更换电池",status:"SCHEDULED"},{id:2,deviceId:"DEV-2024-067",deviceName:"Terminal A-112",type:"PREDICTIVE",priority:"MEDIUM",scheduledDate:"2026-02-17",description:"检查散热系统",status:"SCHEDULED"},{id:3,deviceId:"DEV-2024-089",deviceName:"Terminal B-205",type:"CORRECTIVE",priority:"HIGH",scheduledDate:"2026-02-16",description:"修复温度传感器",status:"IN_PROGRESS"}],be=[{id:1,deviceId:"DEV-2024-067",deviceName:"Terminal A-112",failureProbability:68,estimatedFailureDate:"2026-03-10",healthScore:45,riskFactors:["电池老化","温度异常"]},{id:2,deviceId:"DEV-2024-089",deviceName:"Terminal B-205",failureProbability:45,estimatedFailureDate:"2026-03-25",healthScore:58,riskFactors:["散热不良"]},{id:3,deviceId:"DEV-2024-034",deviceName:"Validator C-301",failureProbability:32,estimatedFailureDate:"2026-04-05",healthScore:67,riskFactors:["存储不足"]}];function Te(){const{t:s}=L(),[n,i]=u.useState(null),[t,c]=u.useState(!1),[o,m]=u.useState("7d"),h=a=>{i(a),c(!0)},l=a=>{switch(a){case"HIGH":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"MEDIUM":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"LOW":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-slate-100 text-slate-700"}},v=a=>{switch(a){case"ONLINE":case"RESOLVED":return e.jsx(P,{className:"w-5 h-5 text-green-500"});case"WARNING":return e.jsx(T,{className:"w-5 h-5 text-yellow-500"});case"CRITICAL":case"ACTIVE":return e.jsx(T,{className:"w-5 h-5 text-red-500"});default:return e.jsx(N,{className:"w-5 h-5 text-slate-500"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:s("maintenance.predictiveDashboard")}),e.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:s("maintenance.predictiveDashboardDesc")})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:o,onChange:a=>m(a.target.value),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300",children:[e.jsx("option",{value:"24h",children:s("common.24h")}),e.jsx("option",{value:"7d",children:s("common.7d")}),e.jsx("option",{value:"30d",children:s("common.30d")})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(b,{title:s("maintenance.totalDevices"),value:p.totalDevices,subtitle:`${p.online} ${s("maintenance.online")}`,icon:N,trend:"+2",trendUp:!0,trendLabel:s("maintenance.vsLastWeek")}),e.jsx(b,{title:s("maintenance.averageHealth"),value:`${p.averageHealthScore}%`,subtitle:s("maintenance.fleetHealth"),icon:M,trend:"-1.2%",trendUp:!1,trendLabel:s("maintenance.vsLastWeek")}),e.jsx(b,{title:s("maintenance.predictions"),value:p.predictionsThisWeek,subtitle:s("maintenance.thisWeek"),icon:E,trend:"+3",trendUp:!0,trendLabel:s("maintenance.vsLastWeek")}),e.jsx(b,{title:s("maintenance.scheduled"),value:p.maintenanceScheduled,subtitle:s("maintenance.upcoming"),icon:le,trend:"0",trendUp:!0,trendLabel:s("maintenance.vsLastWeek")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:s("maintenance.healthTrend")}),e.jsx("div",{className:"h-64",children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(F,{data:he,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),e.jsx($,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),e.jsx(U,{dataKey:"date",stroke:"#64748b"}),e.jsx(G,{stroke:"#64748b",domain:[70,90]}),e.jsx(w,{}),e.jsx(D,{}),e.jsx(C,{type:"monotone",dataKey:"score",name:s("maintenance.avgHealthScore"),stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorScore)"}),e.jsx(ee,{dataKey:"failures",name:s("maintenance.failures"),fill:"#ef4444",barSize:20})]})})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",children:s("maintenance.riskDistribution")}),e.jsx("div",{className:"h-64",children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(te,{children:[e.jsx(se,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:A.map((a,g)=>e.jsx(ae,{fill:a.color},`cell-${g}`))}),e.jsx(w,{}),e.jsx(D,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:s("maintenance.anomalies")}),e.jsxs("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-sm font-medium",children:[H.filter(a=>a.status==="ACTIVE").length," ",s("maintenance.active")]})]})}),e.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:H.slice(0,4).map(a=>e.jsx(j.div,{whileHover:{backgroundColor:"rgba(59, 130, 246, 0.05)"},className:"p-4 cursor-pointer",onClick:()=>h(a.deviceId),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[v(a.status),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-600 dark:text-slate-400",children:a.deviceId}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${l(a.severity)}`,children:a.severity})]}),e.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100 mt-1",children:a.description}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:a.detectedAt})]})]}),e.jsx(y,{className:"w-5 h-5 text-slate-400"})]})},a.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:s("maintenance.predictions")}),e.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:s("common.viewAll")})]})}),e.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:be.map(a=>e.jsx(j.div,{whileHover:{backgroundColor:"rgba(59, 130, 246, 0.05)"},className:"p-4 cursor-pointer",onClick:()=>h(a.deviceId),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative w-12 h-12",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",role:"img","aria-label":"Failure Probability",children:[e.jsx("title",{children:"Failure Probability"}),e.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"#e2e8f0",strokeWidth:"4",fill:"none"}),e.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:a.failureProbability>50?"#ef4444":"#f59e0b",strokeWidth:"4",fill:"none",strokeDasharray:`${a.failureProbability*1.26} 126`,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-xs font-bold text-slate-700",children:[a.failureProbability,"%"]})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-mono text-sm text-slate-600 dark:text-slate-400",children:a.deviceId}),e.jsxs("p",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:[s("maintenance.estimatedFailure"),": ",a.estimatedFailureDate]}),e.jsx("div",{className:"flex gap-1 mt-1",children:a.riskFactors.map((g,K)=>e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 rounded text-xs",children:g},K))})]})]}),e.jsx(y,{className:"w-5 h-5 text-slate-400"})]})},a.id))})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:s("maintenance.schedule")}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors",children:[e.jsx(re,{className:"w-4 h-4"}),s("maintenance.createTicket")]})})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s("maintenance.device")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s("maintenance.typeLabel")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s("maintenance.priority")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s("maintenance.scheduledDate")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s("maintenance.description")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:s("maintenance.statusLabel")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:pe.map(a=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 cursor-pointer",onClick:()=>h(a.deviceId),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-mono text-sm text-slate-900 dark:text-slate-100",children:a.deviceId}),e.jsx("p",{className:"text-xs text-slate-500",children:a.deviceName})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.type==="PREVENTIVE"?"bg-blue-100 text-blue-700":a.type==="PREDICTIVE"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:a.type})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l(a.priority)}`,children:a.priority})}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-300",children:a.scheduledDate}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 dark:text-slate-300",children:a.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.status==="SCHEDULED"?"bg-blue-100 text-blue-700":a.status==="IN_PROGRESS"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:a.status})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{type:"button",className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:e.jsx(ie,{className:"w-4 h-4 text-slate-400"})})})]},a.id))})]})})]}),e.jsx(xe,{deviceId:n,isOpen:t,onClose:()=>c(!1)})]})}function b({title:s,value:n,subtitle:i,icon:t,trend:c,trendUp:o,trendLabel:m}){return e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:s}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mt-2",children:n}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:i})]}),e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:e.jsx(t,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxs("span",{className:`flex items-center gap-1 text-sm font-medium ${o?"text-green-600":"text-red-600"}`,children:[o?e.jsx(E,{className:"w-4 h-4"}):e.jsx(I,{className:"w-4 h-4"}),c]}),e.jsx("span",{className:"text-sm text-slate-400",children:m})]})]})}export{Te as default};
//# sourceMappingURL=PredictiveMaintenanceDashboard-D76tHyz1.js.map
