{"version":3,"file":"MaintenanceTab-BhXaltep.js","sources":["../../src/components/transit/MaintenanceTab.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { useTranslation } from 'react-i18next'\nimport {\n    Wrench,\n    AlertTriangle,\n    Clock,\n    CheckCircle,\n    Bus,\n    Calendar,\n    Plus,\n    Search,\n    Filter\n} from 'lucide-react'\n\ninterface MaintenanceRecord {\n    id: string\n    vehiclePlate: string\n    type: 'routine' | 'repair' | 'inspection'\n    description: string\n    status: 'pending' | 'inProgress' | 'completed' | 'overdue'\n    scheduledDate: string\n    completedDate?: string\n    cost?: number\n}\n\n// 模拟维修保养数据\nconst mockMaintenanceRecords: MaintenanceRecord[] = [\n    { id: '1', vehiclePlate: 'SH-B12345', type: 'routine', description: 'Routine maintenance - oil change', status: 'completed', scheduledDate: '2026-02-05', completedDate: '2026-02-05', cost: 350 },\n    { id: '2', vehiclePlate: 'SH-B23456', type: 'repair', description: 'AC system fault repair', status: 'inProgress', scheduledDate: '2026-02-07' },\n    { id: '3', vehiclePlate: 'SH-B34567', type: 'inspection', description: 'Annual vehicle inspection', status: 'pending', scheduledDate: '2026-02-10' },\n    { id: '4', vehiclePlate: 'SH-B45678', type: 'routine', description: 'Brake system check', status: 'overdue', scheduledDate: '2026-02-01' },\n    { id: '5', vehiclePlate: 'SH-B56789', type: 'repair', description: 'Engine noise inspection', status: 'pending', scheduledDate: '2026-02-08' },\n]\n\nexport function MaintenanceTab() {\n    const { t } = useTranslation()\n    const [records] = useState<MaintenanceRecord[]>(mockMaintenanceRecords)\n    const [searchTerm, setSearchTerm] = useState('')\n    const [statusFilter, setStatusFilter] = useState<string>('all')\n\n    const filteredRecords = records.filter(r => {\n        const matchesSearch = r.vehiclePlate.includes(searchTerm) || r.description.includes(searchTerm)\n        const matchesStatus = statusFilter === 'all' || r.status === statusFilter\n        return matchesSearch && matchesStatus\n    })\n\n    const getStatusBadge = (status: MaintenanceRecord['status']) => {\n        const styles = {\n            pending: 'bg-blue-500/10 text-blue-600 dark:text-blue-400',\n            inProgress: 'bg-amber-500/10 text-amber-600 dark:text-amber-400',\n            completed: 'bg-green-500/10 text-green-600 dark:text-green-400',\n            overdue: 'bg-red-500/10 text-red-600 dark:text-red-400',\n        }\n        return styles[status]\n    }\n\n    const getStatusIcon = (status: MaintenanceRecord['status']) => {\n        switch (status) {\n            case 'pending': return Clock\n            case 'inProgress': return Wrench\n            case 'completed': return CheckCircle\n            case 'overdue': return AlertTriangle\n        }\n    }\n\n    const getTypeBadge = (type: MaintenanceRecord['type']) => {\n        const styles = {\n            routine: 'bg-slate-500/10 text-slate-600 dark:text-slate-400',\n            repair: 'bg-orange-500/10 text-orange-600 dark:text-orange-400',\n            inspection: 'bg-purple-500/10 text-purple-600 dark:text-purple-400',\n        }\n        return { style: styles[type], label: t(`transit.maintenanceType.${type}`) }\n    }\n\n    const stats = [\n        { label: t('transit.maintenanceStatus.pending'), value: records.filter(r => r.status === 'pending').length, icon: Clock, color: 'blue' },\n        { label: t('transit.maintenanceStatus.inProgress'), value: records.filter(r => r.status === 'inProgress').length, icon: Wrench, color: 'amber' },\n        { label: t('transit.maintenanceStatus.completed'), value: records.filter(r => r.status === 'completed').length, icon: CheckCircle, color: 'green' },\n        { label: t('transit.maintenanceStatus.overdue'), value: records.filter(r => r.status === 'overdue').length, icon: AlertTriangle, color: 'red' },\n    ]\n\n    return (\n        <div className=\"space-y-6\">\n            {/* 统计卡片 */}\n            <div className=\"grid grid-cols-4 gap-4\">\n                {stats.map((stat, i) => (\n                    <motion.div\n                        key={i}\n                        initial={{ opacity: 0, y: 10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ delay: i * 0.1 }}\n                        className={`p-4 rounded-xl border ${stat.color === 'red' && stat.value > 0 ? 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800' : 'bg-white dark:bg-dark-800 border-slate-200 dark:border-dark-600'}`}\n                    >\n                        <div className=\"flex items-center gap-3\">\n                            <div className={`p-2 rounded-lg bg-${stat.color}-500/10`}>\n                                <stat.icon className={`w-5 h-5 text-${stat.color}-500`} />\n                            </div>\n                            <div>\n                                <p className=\"text-xs text-slate-500\">{stat.label}</p>\n                                <p className={`text-2xl font-bold ${stat.color === 'red' && stat.value > 0 ? 'text-red-600' : 'text-slate-900 dark:text-slate-100'}`}>{stat.value}</p>\n                            </div>\n                        </div>\n                    </motion.div>\n                ))}\n            </div>\n\n            {/* 搜索和筛选 */}\n            <div className=\"flex items-center justify-between gap-4\">\n                <div className=\"flex items-center gap-4 flex-1\">\n                    <div className=\"relative flex-1 max-w-md\">\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                        <input\n                            type=\"text\"\n                            placeholder={t('common.searchPlaceholder')}\n                            value={searchTerm}\n                            onChange={(e) => setSearchTerm(e.target.value)}\n                            className=\"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-dark-700 border border-slate-200 dark:border-dark-600 rounded-lg text-sm\"\n                        />\n                    </div>\n                    <select\n                        value={statusFilter}\n                        onChange={(e) => setStatusFilter(e.target.value)}\n                        className=\"px-4 py-2 bg-slate-50 dark:bg-dark-700 border border-slate-200 dark:border-dark-600 rounded-lg text-sm\"\n                    >\n                        <option value=\"all\">{t('common.allStatus')}</option>\n                        <option value=\"pending\">{t('transit.maintenanceStatus.pending')}</option>\n                        <option value=\"inProgress\">{t('transit.maintenanceStatus.inProgress')}</option>\n                        <option value=\"completed\">{t('transit.maintenanceStatus.completed')}</option>\n                        <option value=\"overdue\">{t('transit.maintenanceStatus.overdue')}</option>\n                    </select>\n                </div>\n                <div className=\"flex gap-2\">\n                    <button className=\"btn-secondary flex items-center gap-2\">\n                        <AlertTriangle className=\"w-4 h-4\" />\n                        {t('transit.reportFault')}\n                    </button>\n                    <button className=\"btn-primary flex items-center gap-2\">\n                        <Plus className=\"w-4 h-4\" />\n                        {t('common.add')}\n                    </button>\n                </div>\n            </div>\n\n            {/* 维修记录列表 */}\n            <div className=\"space-y-3\">\n                {filteredRecords.map((record, i) => {\n                    const StatusIcon = getStatusIcon(record.status)\n                    const typeInfo = getTypeBadge(record.type)\n                    return (\n                        <motion.div\n                            key={record.id}\n                            initial={{ opacity: 0, x: -10 }}\n                            animate={{ opacity: 1, x: 0 }}\n                            transition={{ delay: i * 0.05 }}\n                            className={`p-4 rounded-xl border ${record.status === 'overdue' ? 'bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-800' : 'bg-white dark:bg-dark-800 border-slate-200 dark:border-dark-600'}`}\n                        >\n                            <div className=\"flex items-start justify-between\">\n                                <div className=\"flex items-start gap-4\">\n                                    <div className={`p-3 rounded-xl ${record.status === 'overdue' ? 'bg-red-500/10' : 'bg-slate-100 dark:bg-dark-700'}`}>\n                                        <Bus className={`w-6 h-6 ${record.status === 'overdue' ? 'text-red-500' : 'text-slate-500'}`} />\n                                    </div>\n                                    <div>\n                                        <div className=\"flex items-center gap-2 mb-1\">\n                                            <span className=\"font-semibold text-slate-900 dark:text-slate-100\">{record.vehiclePlate}</span>\n                                            <span className={`px-2 py-0.5 rounded text-xs font-medium ${typeInfo.style}`}>{typeInfo.label}</span>\n                                        </div>\n                                        <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-2\">{record.description}</p>\n                                        <div className=\"flex items-center gap-4 text-xs text-slate-500\">\n                                            <div className=\"flex items-center gap-1\">\n                                                <Calendar className=\"w-3 h-3\" />\n                                                <span>{t('transit.scheduledDate')}: {record.scheduledDate}</span>\n                                            </div>\n                                            {record.completedDate && (\n                                                <div className=\"flex items-center gap-1\">\n                                                    <CheckCircle className=\"w-3 h-3 text-green-500\" />\n                                                    <span>{t('transit.completedDate')}: {record.completedDate}</span>\n                                                </div>\n                                            )}\n                                            {record.cost !== undefined && (\n                                                <span className=\"font-medium text-slate-700 dark:text-slate-300\">{t('transit.cost')}: ¥{record.cost}</span>\n                                            )}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <span className={`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium ${getStatusBadge(record.status)}`}>\n                                        <StatusIcon className=\"w-4 h-4\" />\n                                        {t(`transit.maintenanceStatus.${record.status}`)}\n                                    </span>\n                                    {record.status === 'pending' && (\n                                        <button className=\"px-3 py-1.5 bg-primary-500 text-white text-sm rounded-lg hover:bg-primary-600 transition-colors\">\n                                            {t('transit.startMaintenance')}\n                                        </button>\n                                    )}\n                                    {record.status === 'inProgress' && (\n                                        <button className=\"px-3 py-1.5 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-colors\">\n                                            {t('transit.completeMaintenance')}\n                                        </button>\n                                    )}\n                                </div>\n                            </div>\n                        </motion.div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\nexport default MaintenanceTab\n"],"names":["mockMaintenanceRecords","MaintenanceTab","t","useTranslation","records","useState","searchTerm","setSearchTerm","statusFilter","setStatusFilter","filteredRecords","r","matchesSearch","matchesStatus","getStatusBadge","status","getStatusIcon","Clock","Wrench","CheckCircle","AlertTriangle","getTypeBadge","type","stats","jsxs","jsx","stat","i","motion","Search","Plus","record","StatusIcon","typeInfo","Bus","Calendar"],"mappings":"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"}