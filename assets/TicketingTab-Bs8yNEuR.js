import{d as c,I as o,z as m,j as e,m as u,b as C,az as w}from"./index-BFC3x6Qu.js";import{r as i}from"./vendor-xASHc04L.js";import{u as I}from"./i18n-Skc9GWxP.js";import{T}from"./TransitManagement-Cm0bv_P0.js";import{D as M}from"./download-BQnzuqXs.js";import{S as A}from"./smartphone-knqkNvLJ.js";import{Q as $}from"./qr-code-DBkKz34I.js";import"./ui-BMjqw1mu.js";import"./charts-X6rqVOAO.js";import"./schemas-oLtz9YBc.js";import"./useTransit-BdMx-Zkx.js";import"./map-pin-BlMVK0zP.js";import"./calendar-BKUrliUu.js";import"./wrench-DzHG2nfK.js";import"./plus-DuetlEXP.js";const K=[{id:"1",orderId:"TK20260207001",cardNumber:"6225****1234",routeCode:"101",amount:2,paymentMethod:"qrcode",status:"paid",createdAt:"2026-02-07 08:15:32"},{id:"2",orderId:"TK20260207002",cardNumber:"6225****2345",routeCode:"202",amount:3,paymentMethod:"nfc",status:"paid",createdAt:"2026-02-07 08:22:15"},{id:"3",orderId:"TK20260207003",cardNumber:"6225****3456",routeCode:"101",amount:2,paymentMethod:"card",status:"refunded",createdAt:"2026-02-07 08:35:48"},{id:"4",orderId:"TK20260207004",cardNumber:"6225****4567",routeCode:"303",amount:5,paymentMethod:"qrcode",status:"paid",createdAt:"2026-02-07 08:45:20"},{id:"5",orderId:"TK20260207005",cardNumber:"6225****5678",routeCode:"202",amount:3,paymentMethod:"nfc",status:"cancelled",createdAt:"2026-02-07 09:02:33"}];function U(){const{t:a}=I(),[r]=i.useState(K),[d,x]=i.useState(""),[n,p]=i.useState("all"),h=r.filter(t=>{const s=t.orderId.includes(d)||t.cardNumber.includes(d),l=n==="all"||t.status===n;return s&&l}),b=t=>({paid:"bg-green-500/10 text-green-600 dark:text-green-400",refunded:"bg-amber-500/10 text-amber-600 dark:text-amber-400",cancelled:"bg-red-500/10 text-red-600 dark:text-red-400"})[t],g=t=>{switch(t){case"paid":return o;case"refunded":return m;case"cancelled":return w}},v=t=>{switch(t){case"qrcode":return $;case"nfc":return A;case"card":return c}},j=r.filter(t=>t.status==="paid").reduce((t,s)=>t+s.amount,0),f=r.length,k=r.filter(t=>t.status==="paid").length,y=r.filter(t=>t.status==="refunded").length,N=[{label:a("transit.todayRevenue"),value:`¥${j.toFixed(2)}`,icon:T,color:"primary"},{label:a("transit.orderQuery"),value:f,icon:c,color:"blue"},{label:a("transit.ticketStatus.paid"),value:k,icon:o,color:"green"},{label:a("transit.ticketStatus.refunded"),value:y,icon:m,color:"amber"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:N.map((t,s)=>e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"p-4 rounded-xl bg-white dark:bg-dark-800 border border-slate-200 dark:border-dark-600",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${t.color}-500/10`,children:e.jsx(t.icon,{className:`w-5 h-5 text-${t.color}-500`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:t.label}),e.jsx("p",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:t.value})]})]})},s))}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(C,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:a("transactions.searchPlaceholder"),value:d,onChange:t=>x(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-dark-700 border border-slate-200 dark:border-dark-600 rounded-lg text-sm"})]}),e.jsxs("select",{value:n,onChange:t=>p(t.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-dark-700 border border-slate-200 dark:border-dark-600 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:a("common.allStatus")}),e.jsx("option",{value:"paid",children:a("transit.ticketStatus.paid")}),e.jsx("option",{value:"refunded",children:a("transit.ticketStatus.refunded")}),e.jsx("option",{value:"cancelled",children:a("transit.ticketStatus.cancelled")})]})]}),e.jsxs("button",{className:"btn-secondary flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),a("common.export")]})]}),e.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-xl border border-slate-200 dark:border-dark-600 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-7 gap-4 p-4 bg-slate-50 dark:bg-dark-700 text-sm font-medium text-slate-600 dark:text-slate-400",children:[e.jsx("div",{children:a("transit.orderQuery")}),e.jsx("div",{children:a("cards.cardNumber")}),e.jsx("div",{children:a("common.route")}),e.jsx("div",{children:a("transactions.table.amount")}),e.jsx("div",{children:a("transit.paymentRecord")}),e.jsx("div",{children:a("common.status")}),e.jsx("div",{children:a("transactions.table.timestamp")})]}),e.jsx("div",{className:"divide-y divide-slate-200 dark:divide-dark-600",children:h.map((t,s)=>{const l=g(t.status),S=v(t.paymentMethod);return e.jsxs(u.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"grid grid-cols-7 gap-4 p-4 items-center hover:bg-slate-50 dark:hover:bg-dark-700 transition-colors",children:[e.jsx("div",{className:"font-mono text-sm text-slate-900 dark:text-slate-100",children:t.orderId}),e.jsx("div",{className:"text-slate-600 dark:text-slate-400",children:t.cardNumber}),e.jsx("div",{children:e.jsxs("span",{className:"px-2 py-0.5 bg-primary-500/10 text-primary-600 dark:text-primary-400 rounded text-xs font-medium",children:[t.routeCode,"路"]})}),e.jsxs("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["¥",t.amount.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 dark:text-slate-400",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:a(`transit.paymentMethod.${t.paymentMethod}`)})]}),e.jsx("div",{children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${b(t.status)}`,children:[e.jsx(l,{className:"w-3 h-3"}),a(`transit.ticketStatus.${t.status}`)]})}),e.jsx("div",{className:"text-xs text-slate-500",children:t.createdAt})]},t.id)})})]})]})}export{U as TicketingTab,U as default};
