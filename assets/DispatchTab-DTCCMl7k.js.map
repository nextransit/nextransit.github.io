{"version":3,"file":"DispatchTab-DTCCMl7k.js","sources":["../../src/components/transit/DispatchTab.tsx"],"sourcesContent":["import { useState } from 'react'\nimport { motion } from 'framer-motion'\nimport { useTranslation } from 'react-i18next'\nimport {\n    Calendar,\n    Clock,\n    Bus,\n    User,\n    MapPin,\n    Play,\n    Pause,\n    CheckCircle,\n    AlertCircle,\n    Plus,\n    ChevronRight\n} from 'lucide-react'\n\ninterface DispatchRecord {\n    id: string\n    routeCode: string\n    routeName: string\n    vehiclePlate: string\n    driverName: string\n    departureTime: string\n    arrivalTime: string\n    status: 'scheduled' | 'departed' | 'arrived' | 'delayed'\n}\n\n// 模拟调度数据\nconst mockDispatchData: DispatchRecord[] = [\n    { id: '1', routeCode: '101', routeName: 'Route 101', vehiclePlate: 'SH-B12345', driverName: 'M. Zhang', departureTime: '08:00', arrivalTime: '09:30', status: 'arrived' },\n    { id: '2', routeCode: '101', routeName: 'Route 101', vehiclePlate: 'SH-B23456', driverName: 'Q. Li', departureTime: '08:30', arrivalTime: '10:00', status: 'departed' },\n    { id: '3', routeCode: '202', routeName: 'Route 202', vehiclePlate: 'SH-B34567', driverName: 'F. Wang', departureTime: '09:00', arrivalTime: '10:30', status: 'scheduled' },\n    { id: '4', routeCode: '303', routeName: 'Route 303', vehiclePlate: 'SH-B45678', driverName: 'W. Zhao', departureTime: '09:15', arrivalTime: '11:00', status: 'delayed' },\n    { id: '5', routeCode: '101', routeName: 'Route 101', vehiclePlate: 'SH-B56789', driverName: 'Y. Liu', departureTime: '09:30', arrivalTime: '11:00', status: 'scheduled' },\n]\n\nexport function DispatchTab() {\n    const { t } = useTranslation()\n    const [dispatchData] = useState<DispatchRecord[]>(mockDispatchData)\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0])\n\n    const getStatusBadge = (status: DispatchRecord['status']) => {\n        const styles = {\n            scheduled: 'bg-blue-500/10 text-blue-600 dark:text-blue-400',\n            departed: 'bg-amber-500/10 text-amber-600 dark:text-amber-400',\n            arrived: 'bg-green-500/10 text-green-600 dark:text-green-400',\n            delayed: 'bg-red-500/10 text-red-600 dark:text-red-400',\n        }\n        return styles[status]\n    }\n\n    const getStatusIcon = (status: DispatchRecord['status']) => {\n        switch (status) {\n            case 'scheduled': return Clock\n            case 'departed': return Play\n            case 'arrived': return CheckCircle\n            case 'delayed': return AlertCircle\n        }\n    }\n\n    const stats = [\n        { label: t('transit.dispatchStatus.scheduled'), value: dispatchData.filter(d => d.status === 'scheduled').length, color: 'blue' },\n        { label: t('transit.dispatchStatus.departed'), value: dispatchData.filter(d => d.status === 'departed').length, color: 'amber' },\n        { label: t('transit.dispatchStatus.arrived'), value: dispatchData.filter(d => d.status === 'arrived').length, color: 'green' },\n        { label: t('transit.dispatchStatus.delayed'), value: dispatchData.filter(d => d.status === 'delayed').length, color: 'red' },\n    ]\n\n    return (\n        <div className=\"space-y-6\">\n            {/* 统计卡片 */}\n            <div className=\"grid grid-cols-4 gap-4\">\n                {stats.map((stat, i) => (\n                    <motion.div\n                        key={i}\n                        initial={{ opacity: 0, y: 10 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        transition={{ delay: i * 0.1 }}\n                        className={`p-4 rounded-xl bg-${stat.color}-500/10 border border-${stat.color}-500/20`}\n                    >\n                        <p className={`text-sm text-${stat.color}-600 dark:text-${stat.color}-400`}>{stat.label}</p>\n                        <p className={`text-2xl font-bold text-${stat.color}-700 dark:text-${stat.color}-300 mt-1`}>{stat.value}</p>\n                    </motion.div>\n                ))}\n            </div>\n\n            {/* 日期选择和操作栏 */}\n            <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"relative\">\n                        <Calendar className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\n                        <input\n                            type=\"date\"\n                            value={selectedDate}\n                            onChange={(e) => setSelectedDate(e.target.value)}\n                            className=\"pl-10 pr-4 py-2 bg-slate-50 dark:bg-dark-700 border border-slate-200 dark:border-dark-600 rounded-lg text-sm\"\n                        />\n                    </div>\n                </div>\n                <button className=\"btn-primary flex items-center gap-2\">\n                    <Plus className=\"w-4 h-4\" />\n                    {t('transit.generateSchedule')}\n                </button>\n            </div>\n\n            {/* 调度列表 */}\n            <div className=\"bg-white dark:bg-dark-800 rounded-xl border border-slate-200 dark:border-dark-600 overflow-hidden\">\n                <div className=\"grid grid-cols-7 gap-4 p-4 bg-slate-50 dark:bg-dark-700 text-sm font-medium text-slate-600 dark:text-slate-400\">\n                    <div>{t('transit.routeCode')}</div>\n                    <div>{t('transit.vehicleNumber')}</div>\n                    <div>{t('transit.driverName')}</div>\n                    <div>{t('transit.departureSchedule')}</div>\n                    <div>{t('transit.arrivalTime')}</div>\n                    <div>{t('common.status')}</div>\n                    <div>{t('common.actions')}</div>\n                </div>\n                <div className=\"divide-y divide-slate-200 dark:divide-dark-600\">\n                    {dispatchData.map((record, i) => {\n                        const StatusIcon = getStatusIcon(record.status)\n                        return (\n                            <motion.div\n                                key={record.id}\n                                initial={{ opacity: 0, x: -10 }}\n                                animate={{ opacity: 1, x: 0 }}\n                                transition={{ delay: i * 0.05 }}\n                                className=\"grid grid-cols-7 gap-4 p-4 items-center hover:bg-slate-50 dark:hover:bg-dark-700 transition-colors\"\n                            >\n                                <div>\n                                    <span className=\"px-2 py-1 bg-primary-500/10 text-primary-600 dark:text-primary-400 rounded font-medium text-sm\">\n                                        {record.routeCode}\n                                    </span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <Bus className=\"w-4 h-4 text-slate-400\" />\n                                    <span className=\"text-slate-900 dark:text-slate-100\">{record.vehiclePlate}</span>\n                                </div>\n                                <div className=\"flex items-center gap-2\">\n                                    <User className=\"w-4 h-4 text-slate-400\" />\n                                    <span className=\"text-slate-700 dark:text-slate-300\">{record.driverName}</span>\n                                </div>\n                                <div className=\"text-slate-600 dark:text-slate-400 font-mono\">{record.departureTime}</div>\n                                <div className=\"text-slate-600 dark:text-slate-400 font-mono\">{record.arrivalTime}</div>\n                                <div>\n                                    <span className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${getStatusBadge(record.status)}`}>\n                                        <StatusIcon className=\"w-3 h-3\" />\n                                        {t(`transit.dispatchStatus.${record.status}`)}\n                                    </span>\n                                </div>\n                                <div>\n                                    <button className=\"p-1.5 hover:bg-slate-100 dark:hover:bg-dark-600 rounded-lg transition-colors\">\n                                        <ChevronRight className=\"w-4 h-4 text-slate-400\" />\n                                    </button>\n                                </div>\n                            </motion.div>\n                        )\n                    })}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default DispatchTab\n"],"names":["mockDispatchData","DispatchTab","t","useTranslation","dispatchData","useState","selectedDate","setSelectedDate","getStatusBadge","status","getStatusIcon","Clock","Play","CheckCircle","AlertCircle","stats","d","jsxs","jsx","stat","i","motion","Calendar","e","Plus","record","StatusIcon","Bus","User","ChevronRight"],"mappings":"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"}