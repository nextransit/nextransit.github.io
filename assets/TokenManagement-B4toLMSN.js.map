{"version":3,"file":"TokenManagement-B4toLMSN.js","sources":["../../node_modules/lucide-react/dist/esm/icons/link.js","../../src/pages/TokenManagement.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Link = createLucideIcon(\"Link\", [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n]);\n\nexport { Link as default };\n//# sourceMappingURL=link.js.map\n","import { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Key,\n  Plus,\n  Search,\n  Copy,\n  Check,\n  X,\n  QrCode,\n  Loader2,\n  AlertCircle,\n  Trash2,\n  RefreshCw,\n  Clock,\n  Users,\n  Shield,\n  Link,\n  Download,\n} from 'lucide-react';\nimport apiClient from '../api/client';\n\ninterface Token {\n  tokenId: string;\n  token: string;\n  type: string;\n  status: string;\n  expiresAt: string;\n  createdAt: string;\n  description: string;\n  usageCount: number;\n  maxUsageCount: number;\n  qrCode: string;\n  shareUrl: string;\n  magicLink: string;\n}\n\nconst TOKEN_TYPES = [\n  { value: 'demo', label: 'Demo Token', description: '30-minute read-only demo access', color: 'bg-amber-100 text-amber-800' },\n  { value: 'project_access', label: 'Project Token', description: 'Long-term project access', color: 'bg-blue-100 text-blue-800' },\n  { value: 'temporary', label: 'Temporary Token', description: 'Short-term access', color: 'bg-yellow-100 text-yellow-800' },\n  { value: 'magic_link', label: 'Magic Link', description: 'One-time login link', color: 'bg-purple-100 text-purple-800' },\n];\n\nconst STATUS_COLORS: Record<string, string> = {\n  active: 'bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800',\n  revoked: 'bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:border-rose-800',\n  expired: 'bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-900/30 dark:text-slate-400 dark:border-slate-800',\n};\n\nconst getEffectiveStatus = (token: Token) => {\n  if (token.status === 'revoked') return 'revoked';\n  if (new Date(token.expiresAt) < new Date()) return 'expired';\n  return token.status;\n};\n\nexport default function TokenManagement() {\n  const { t } = useTranslation();\n  const [tokens, setTokens] = useState<Token[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [viewMode, setViewMode] = useState<'card' | 'list'>('card');\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showQrModal, setShowQrModal] = useState(false);\n  const [selectedToken, setSelectedToken] = useState<Token | null>(null);\n  const [copiedField, setCopiedField] = useState<string | null>(null);\n\n  const [newToken, setNewToken] = useState({\n    type: 'demo',\n    userId: '',\n    projectId: '',\n    expiresInMinutes: 30,\n    maxUsageCount: 0,\n    description: '',\n    defaultLanguage: 'en',\n  });\n\n  const [generatedToken, setGeneratedToken] = useState<Token | null>(null);\n\n  useEffect(() => {\n    fetchTokens();\n  }, []);\n\n  const fetchTokens = async () => {\n    setIsLoading(true);\n    try {\n      const response = await apiClient.get('/auth/tokens/active');\n      setTokens(response.data || []);\n    } catch (err: any) {\n      setError(err.response?.data?.message || t('tokenManagement.error.fetchFailed'));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGenerateToken = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      let response;\n      if (newToken.type === 'demo') {\n        response = await apiClient.post('/auth/tokens/demo', {\n          defaultLanguage: newToken.defaultLanguage\n        });\n      } else if (newToken.type === 'magic_link' && newToken.userId) {\n        response = await apiClient.post(`/auth/tokens/magic/${newToken.userId}`);\n      } else if (newToken.type === 'project_access' && newToken.projectId) {\n        response = await apiClient.post(`/auth/tokens/project/${newToken.projectId}`, {\n          userId: newToken.userId,\n        });\n      } else {\n        response = await apiClient.post('/auth/tokens', newToken);\n      }\n\n      setGeneratedToken(response.data);\n      setSuccess(t('tokenManagement.success.generated'));\n      fetchTokens();\n    } catch (err: any) {\n      setError(err.response?.data?.message || t('tokenManagement.errors.generateFailed'));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRevokeToken = async (tokenId: string) => {\n    if (!confirm(t('tokenManagement.confirmRevoke'))) return;\n\n    setIsLoading(true);\n    try {\n      await apiClient.delete(`/auth/tokens/${tokenId}`);\n      setSuccess(t('tokenManagement.success.revoked'));\n      fetchTokens();\n    } catch (err: any) {\n      setError(err.response?.data?.message || t('tokenManagement.errors.revokeFailed'));\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const copyToClipboard = (text: string, field: string) => {\n    navigator.clipboard.writeText(text);\n    setCopiedField(field);\n    setTimeout(() => setCopiedField(null), 2000);\n  };\n\n  const downloadQrCode = (qrCode: string, filename: string) => {\n    const link = document.createElement('a');\n    link.href = qrCode;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const openQrModal = (token: Token) => {\n    setSelectedToken(token);\n    setShowQrModal(true);\n  };\n\n  const filteredTokens = tokens.filter(\n    (token) =>\n      token.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      token.type.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      token.tokenId.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getTokenTypeLabel = (type: string) => {\n    return t(`tokenManagement.types.${type}`) || type;\n  };\n\n  const getTokenTypeColor = (type: string) => {\n    return TOKEN_TYPES.find((t) => t.value === type)?.color || 'bg-gray-100 text-gray-800';\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const resetForm = () => {\n    setNewToken({\n      type: 'demo',\n      userId: '',\n      projectId: '',\n      expiresInMinutes: 30,\n      maxUsageCount: 0,\n      description: '',\n      defaultLanguage: 'en',\n    });\n    setGeneratedToken(null);\n    setShowCreateModal(false);\n  };\n\n  return (\n    <div className=\"p-6 max-w-7xl mx-auto\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-slate-900 dark:text-white mb-2\">\n          {t('tokenManagement.title')}\n        </h1>\n        <p className=\"text-slate-500 dark:text-slate-400\">\n          {t('tokenManagement.subtitle')}\n        </p>\n      </div>\n\n      <AnimatePresence>\n        {error && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2\"\n          >\n            <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\n            <span className=\"text-sm text-red-700 dark:text-red-300\">{error}</span>\n          </motion.div>\n        )}\n\n        {success && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"mb-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2\"\n          >\n            <Check className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n            <span className=\"text-sm text-green-700 dark:text-green-300\">{success}</span>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <div className=\"flex justify-between items-center mb-6\">\n        <div className=\"relative w-96\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" />\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder={t('tokenManagement.search')}\n            className=\"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n          />\n        </div>\n        <div className=\"flex gap-2\">\n          <button\n            onClick={fetchTokens}\n            className=\"flex items-center gap-2 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700\"\n          >\n            <RefreshCw className=\"w-4 h-4\" />\n            {t('common.refresh')}\n          </button>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            {t('tokenManagement.generateToken')}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 p-1 rounded-lg\">\n          <button\n            onClick={() => setViewMode('card')}\n            className={`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${viewMode === 'card'\n              ? 'bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm'\n              : 'text-slate-500 hover:text-slate-700 dark:hover:text-slate-300'\n              }`}\n          >\n            {t('tokenManagement.viewMode.card')}\n          </button>\n          <button\n            onClick={() => setViewMode('list')}\n            className={`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${viewMode === 'list'\n              ? 'bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm'\n              : 'text-slate-500 hover:text-slate-700 dark:hover:text-slate-300'\n              }`}\n          >\n            {t('tokenManagement.viewMode.list')}\n          </button>\n        </div>\n        <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n          {t('tokenManagement.totalCount', { count: filteredTokens.length })}\n        </div>\n      </div>\n\n      {viewMode === 'card' ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <AnimatePresence>\n            {filteredTokens.map((token) => (\n              <motion.div\n                key={token.tokenId}\n                layout\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, scale: 0.95 }}\n                className={`bg-white dark:bg-slate-800 rounded-xl border overflow-hidden hover:shadow-lg transition-all cursor-pointer ${getEffectiveStatus(token) === 'active'\n                  ? 'border-slate-200 dark:border-slate-700'\n                  : 'border-slate-200 dark:border-slate-800 opacity-75 grayscale-[0.5]'\n                  }`}\n                onClick={() => setSelectedToken(token)}\n              >\n                {getEffectiveStatus(token) !== 'active' && (\n                  <div className=\"absolute top-0 right-0 p-1\">\n                    <div className={`w-2 h-2 rounded-full ${getEffectiveStatus(token) === 'revoked' ? 'bg-rose-500' : 'bg-slate-400'}`} />\n                  </div>\n                )}\n                <div className=\"p-4\">\n                  <div className=\"flex justify-between items-start mb-3\">\n                    <div>\n                      <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${getTokenTypeColor(token.type)}`}>\n                        {getTokenTypeLabel(token.type)}\n                      </span>\n                      <p className=\"text-sm text-slate-500 dark:text-slate-400 mt-1 line-clamp-2\">\n                        {token.description || t('tokenManagement.placeholders.description')}\n                      </p>\n                    </div>\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation(); // Prevent opening detail modal\n                        handleRevokeToken(token.tokenId);\n                      }}\n                      className=\"p-1 text-slate-400 hover:text-red-600\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n\n                  <div className=\"space-y-2 text-sm text-slate-600 dark:text-slate-400 mb-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <Clock className=\"w-4 h-4\" />\n                      <span>{t('tokenManagement.expiresAt')}: {formatDate(token.expiresAt)}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <Shield className=\"w-4 h-4\" />\n                      <span className={`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-medium rounded-full border ${STATUS_COLORS[getEffectiveStatus(token)] || 'bg-gray-100 text-gray-800'}`}>\n                        <span className={`w-1.5 h-1.5 rounded-full ${getEffectiveStatus(token) === 'active' ? 'bg-emerald-500 animate-pulse' :\n                          getEffectiveStatus(token) === 'revoked' ? 'bg-rose-500' : 'bg-slate-400'\n                          }`} />\n                        {t(`tokenManagement.statuses.${getEffectiveStatus(token)}`)}\n                      </span>\n                    </div>\n                    {token.usageCount > 0 && (\n                      <div className=\"flex items-center gap-2\">\n                        <Users className=\"w-4 h-4\" />\n                        <span>{t('tokenManagement.usageCount')}: {token.usageCount}</span>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        copyToClipboard(token.shareUrl, `url-${token.tokenId}`);\n                      }}\n                      className=\"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 dark:hover:bg-slate-600\"\n                    >\n                      {copiedField === `url-${token.tokenId}` ? (\n                        <Check className=\"w-4 h-4 text-green-600\" />\n                      ) : (\n                        <Link className=\"w-4 h-4\" />\n                      )}\n                      {t('tokenManagement.copyUrl')}\n                    </button>\n                    {token.qrCode && (\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          openQrModal(token);\n                        }}\n                        className=\"flex items-center justify-center px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 dark:hover:bg-slate-600\"\n                      >\n                        <QrCode className=\"w-4 h-4\" />\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n          </AnimatePresence>\n        </div>\n      ) : (\n        <div className=\"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden px-4\">\n          <table className=\"w-full\">\n            <thead className=\"border-b border-slate-200 dark:border-slate-700\">\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">{t('tokenManagement.tokenType')}</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">{t('tokenManagement.description')}</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">{t('tokenManagement.expiresAt')}</th>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">{t('tokenManagement.status')}</th>\n                <th className=\"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider\">{t('userManagement.actions')}</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-slate-100 dark:divide-slate-700\">\n              {filteredTokens.map((token) => (\n                <tr key={token.tokenId} className=\"hover:bg-slate-50 dark:hover:bg-slate-700/50 cursor-pointer\" onClick={() => setSelectedToken(token)}>\n                  <td className=\"px-4 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex px-2 py-0.5 text-xs rounded-full ${getTokenTypeColor(token.type)}`}>\n                      {getTokenTypeLabel(token.type)}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4 text-sm text-slate-600 dark:text-slate-400 max-w-xs truncate\">{token.description || t('tokenManagement.placeholders.description')}</td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-sm text-slate-500\">{formatDate(token.expiresAt)}</td>\n                  <td className=\"px-4 py-4 whitespace-nowrap\">\n                    <span className={`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-medium rounded-full border ${STATUS_COLORS[getEffectiveStatus(token)] || 'bg-gray-100 text-gray-800'}`}>\n                      <span className={`w-1.5 h-1.5 rounded-full ${getEffectiveStatus(token) === 'active' ? 'bg-emerald-500 animate-pulse' :\n                        getEffectiveStatus(token) === 'revoked' ? 'bg-rose-500' : 'bg-slate-400'\n                        }`} />\n                      {t(`tokenManagement.statuses.${getEffectiveStatus(token)}`)}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-4 whitespace-nowrap text-right\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRevokeToken(token.tokenId);\n                      }}\n                      className=\"text-red-600 hover:text-red-700 p-2\"\n                      title={t('tokenManagement.revoke')}\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      <AnimatePresence>\n        {showCreateModal && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n          >\n            <motion.div\n              initial={{ scale: 0.95 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0.95 }}\n              className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\"\n            >\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-bold text-slate-900 dark:text-white\">\n                  {generatedToken ? t('tokenManagement.tokenGenerated') : t('tokenManagement.generateToken')}\n                </h2>\n                <button\n                  onClick={resetForm}\n                  className=\"p-2 text-slate-400 hover:text-slate-600\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              {!generatedToken ? (\n                <form onSubmit={handleGenerateToken} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                      {t('tokenManagement.tokenType')}\n                    </label>\n                    <select\n                      value={newToken.type}\n                      onChange={(e) => setNewToken({ ...newToken, type: e.target.value })}\n                      className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                    >\n                      {TOKEN_TYPES.map((type) => (\n                        <option key={type.value} value={type.value}>\n                          {t(`tokenManagement.types.${type.value}`)}\n                        </option>\n                      ))}\n                    </select>\n                    <p className=\"mt-1 text-xs text-slate-500\">\n                      {t(`tokenManagement.typeDescriptions.${newToken.type}`)}\n                    </p>\n                  </div>\n\n                  {(newToken.type === 'project_access' || newToken.type === 'magic_link') && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                        {t('tokenManagement.fields.userId')}\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newToken.userId}\n                        onChange={(e) => setNewToken({ ...newToken, userId: e.target.value })}\n                        className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                        placeholder={t('tokenManagement.placeholders.userId')}\n                        required={newToken.type === 'magic_link'}\n                      />\n                    </div>\n                  )}\n\n                  {newToken.type === 'project_access' && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                        {t('tokenManagement.fields.projectId')}\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newToken.projectId}\n                        onChange={(e) => setNewToken({ ...newToken, projectId: e.target.value })}\n                        className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                        placeholder={t('tokenManagement.placeholders.projectId')}\n                        required\n                      />\n                    </div>\n                  )}\n\n                  {newToken.type !== 'demo' && (\n                    <>\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                          {t('tokenManagement.fields.expiresIn')}\n                        </label>\n                        <input\n                          type=\"number\"\n                          value={newToken.expiresInMinutes}\n                          onChange={(e) => setNewToken({ ...newToken, expiresInMinutes: parseInt(e.target.value) })}\n                          className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                          min={1}\n                          max={10080}\n                        />\n                      </div>\n\n                      <div>\n                        <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                          {t('tokenManagement.fields.maxUsage')}\n                        </label>\n                        <input\n                          type=\"number\"\n                          value={newToken.maxUsageCount}\n                          onChange={(e) => setNewToken({ ...newToken, maxUsageCount: parseInt(e.target.value) })}\n                          className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                          min={0}\n                        />\n                      </div>\n                    </>\n                  )}\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                      {t('tokenManagement.description')}\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newToken.description}\n                      onChange={(e) => setNewToken({ ...newToken, description: e.target.value })}\n                      className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                      placeholder={t('tokenManagement.placeholders.description')}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                      {t('tokenManagement.fields.defaultLanguage')}\n                    </label>\n                    <select\n                      value={newToken.defaultLanguage}\n                      onChange={(e) => setNewToken({ ...newToken, defaultLanguage: e.target.value })}\n                      className=\"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white\"\n                    >\n                      <option value=\"en\">English</option>\n                      <option value=\"zh\">简体中文</option>\n                      <option value=\"ar\">العربية (Arabic)</option>\n                    </select>\n                  </div>\n\n                  <div className=\"flex gap-3 pt-4\">\n                    <button\n                      type=\"button\"\n                      onClick={resetForm}\n                      className=\"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700\"\n                    >\n                      {t('common.cancel')}\n                    </button>\n                    <button\n                      type=\"submit\"\n                      disabled={isLoading}\n                      className=\"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium\"\n                    >\n                      {isLoading ? <Loader2 className=\"w-5 h-5 animate-spin mx-auto\" /> : t('tokenManagement.generateToken')}\n                    </button>\n                  </div>\n                </form>\n              ) : (\n                <div className=\"space-y-4\">\n                  <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Check className=\"w-5 h-5 text-green-600\" />\n                      <span className=\"font-medium text-green-800 dark:text-green-200\">\n                        {t('tokenManagement.success.generated')}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-green-700 dark:text-green-300\">\n                      {t('tokenManagement.shareInstructions')}\n                    </p>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                      {t('tokenManagement.token')}\n                    </label>\n                    <div className=\"flex gap-2\">\n                      <input\n                        type=\"text\"\n                        value={generatedToken.token}\n                        readOnly\n                        className=\"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white font-mono text-sm\"\n                      />\n                      <button\n                        onClick={() => copyToClipboard(generatedToken.token, 'token')}\n                        className=\"px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600\"\n                      >\n                        {copiedField === 'token' ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                      </button>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1\">\n                      {t('tokenManagement.shareUrl')}\n                    </label>\n                    <div className=\"flex gap-2\">\n                      <input\n                        type=\"text\"\n                        value={generatedToken.shareUrl}\n                        readOnly\n                        className=\"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white text-sm\"\n                      />\n                      <button\n                        onClick={() => copyToClipboard(generatedToken.shareUrl, 'shareUrl')}\n                        className=\"px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600\"\n                      >\n                        {copiedField === 'shareUrl' ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                      </button>\n                    </div>\n                  </div>\n\n                  {generatedToken.qrCode && (\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2\">\n                        {t('tokenManagement.qrCode')}\n                      </label>\n                      <div className=\"flex flex-col items-center gap-2\">\n                        <img\n                          src={generatedToken.qrCode}\n                          alt={t('tokenManagement.qrCode')}\n                          className=\"w-48 h-48 rounded-lg border border-slate-200 dark:border-slate-700\"\n                        />\n                        <button\n                          onClick={() => downloadQrCode(generatedToken.qrCode, `token-${generatedToken.tokenId}.png`)}\n                          className=\"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 dark:hover:bg-slate-600\"\n                        >\n                          <Download className=\"w-4 h-4\" />\n                          {t('tokenManagement.downloadQr')}\n                        </button>\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"flex gap-3 pt-4\">\n                    <button\n                      onClick={resetForm}\n                      className=\"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium\"\n                    >\n                      {t('tokenManagement.generateAnother')}\n                    </button>\n                  </div>\n                </div>\n              )}\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <AnimatePresence>\n        {showQrModal && selectedToken && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n            onClick={() => setShowQrModal(false)}\n          >\n            <motion.div\n              initial={{ scale: 0.95 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0.95 }}\n              className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-sm w-full p-6\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div className=\"flex justify-between items-center mb-4\">\n                <h2 className=\"text-xl font-bold text-slate-900 dark:text-white\">\n                  QR Code\n                </h2>\n                <button\n                  onClick={() => setShowQrModal(false)}\n                  className=\"p-2 text-slate-400 hover:text-slate-600\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"flex flex-col items-center gap-4\">\n                {selectedToken.qrCode && (\n                  <img\n                    src={selectedToken.qrCode}\n                    alt=\"QR Code\"\n                    className=\"w-64 h-64 rounded-lg border border-slate-200 dark:border-slate-700\"\n                  />\n                )}\n                <p className=\"text-sm text-slate-500 text-center\">\n                  {t('tokenManagement.scanInstructions')}\n                </p>\n                <button\n                  onClick={() => downloadQrCode(selectedToken.qrCode, `token-${selectedToken.tokenId}.png`)}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  {t('common.download')}\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      <AnimatePresence>\n        {selectedToken && !showQrModal && ( // Only show if a token is selected and QR modal is not open\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n          >\n            <motion.div\n              initial={{ scale: 0.95 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0.95 }}\n              className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\"\n            >\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-xl font-bold text-slate-900 dark:text-white\">\n                  {t('tokenManagement.tokenDetails')}\n                </h2>\n                <button\n                  onClick={() => setSelectedToken(null)}\n                  className=\"p-2 text-slate-400 hover:text-slate-600\"\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              </div>\n\n              <div className=\"space-y-4 text-slate-700 dark:text-slate-300\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.tokenType')}</label>\n                  <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${getTokenTypeColor(selectedToken.type)}`}>\n                    {getTokenTypeLabel(selectedToken.type)}\n                  </span>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.description')}</label>\n                  <p className=\"text-sm\">{selectedToken.description || t('tokenManagement.placeholders.description')}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.status')}</label>\n                  <span className={`inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-medium rounded-full border ${STATUS_COLORS[getEffectiveStatus(selectedToken)] || 'bg-gray-100 text-gray-800'}`}>\n                    <span className={`w-1.5 h-1.5 rounded-full ${getEffectiveStatus(selectedToken) === 'active' ? 'bg-emerald-500 animate-pulse' :\n                        getEffectiveStatus(selectedToken) === 'revoked' ? 'bg-rose-500' : 'bg-slate-400'\n                      }`} />\n                    {t(`tokenManagement.statuses.${getEffectiveStatus(selectedToken)}`)}\n                  </span>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.expiresAt')}</label>\n                  <p className=\"text-sm\">{formatDate(selectedToken.expiresAt)}</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.createdAt')}</label>\n                  <p className=\"text-sm\">{formatDate(selectedToken.createdAt)}</p>\n                </div>\n                {selectedToken.usageCount > 0 && (\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.usageCount')}</label>\n                    <p className=\"text-sm\">{selectedToken.usageCount} / {selectedToken.maxUsageCount === 0 ? t('tokenManagement.unlimited') : selectedToken.maxUsageCount}</p>\n                  </div>\n                )}\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.tokenId')}</label>\n                  <div className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      value={selectedToken.tokenId}\n                      readOnly\n                      className=\"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white font-mono text-sm\"\n                    />\n                    <button\n                      onClick={() => copyToClipboard(selectedToken.tokenId, 'detailTokenId')}\n                      className=\"px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600\"\n                    >\n                      {copiedField === 'detailTokenId' ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                    </button>\n                  </div>\n                </div>\n                {selectedToken.token && (\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.token')}</label>\n                    <div className=\"flex gap-2\">\n                      <input\n                        type=\"text\"\n                        value={selectedToken.token}\n                        readOnly\n                        className=\"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white font-mono text-sm\"\n                      />\n                      <button\n                        onClick={() => copyToClipboard(selectedToken.token, 'detailToken')}\n                        className=\"px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600\"\n                      >\n                        {copiedField === 'detailToken' ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                      </button>\n                    </div>\n                  </div>\n                )}\n                {selectedToken.shareUrl && (\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.shareUrl')}</label>\n                    <div className=\"flex gap-2\">\n                      <input\n                        type=\"text\"\n                        value={selectedToken.shareUrl}\n                        readOnly\n                        className=\"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white text-sm\"\n                      />\n                      <button\n                        onClick={() => copyToClipboard(selectedToken.shareUrl, 'detailShareUrl')}\n                        className=\"px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600\"\n                      >\n                        {copiedField === 'detailShareUrl' ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                      </button>\n                    </div>\n                  </div>\n                )}\n                {selectedToken.magicLink && (\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">{t('tokenManagement.magicLink')}</label>\n                    <div className=\"flex gap-2\">\n                      <input\n                        type=\"text\"\n                        value={selectedToken.magicLink}\n                        readOnly\n                        className=\"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-slate-50 dark:bg-slate-700 text-slate-900 dark:text-white text-sm\"\n                      />\n                      <button\n                        onClick={() => copyToClipboard(selectedToken.magicLink, 'detailMagicLink')}\n                        className=\"px-3 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600\"\n                      >\n                        {copiedField === 'detailMagicLink' ? <Check className=\"w-4 h-4 text-green-600\" /> : <Copy className=\"w-4 h-4\" />}\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"mt-6 flex justify-end gap-2\">\n                {selectedToken.qrCode && (\n                  <button\n                    onClick={() => openQrModal(selectedToken)}\n                    className=\"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 dark:hover:bg-slate-600\"\n                  >\n                    <QrCode className=\"w-4 h-4\" />\n                    {t('tokenManagement.viewQr')}\n                  </button>\n                )}\n                <button\n                  onClick={() => handleRevokeToken(selectedToken.tokenId)}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                  {t('tokenManagement.revoke')}\n                </button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"names":["Link","createLucideIcon","TOKEN_TYPES","STATUS_COLORS","getEffectiveStatus","token","TokenManagement","t","useTranslation","tokens","setTokens","useState","isLoading","setIsLoading","error","setError","success","setSuccess","searchQuery","setSearchQuery","viewMode","setViewMode","showCreateModal","setShowCreateModal","showQrModal","setShowQrModal","selectedToken","setSelectedToken","copiedField","setCopiedField","newToken","setNewToken","generatedToken","setGeneratedToken","useEffect","fetchTokens","response","apiClient","err","_b","_a","handleGenerateToken","e","handleRevokeToken","tokenId","copyToClipboard","text","field","downloadQrCode","qrCode","filename","link","openQrModal","filteredTokens","getTokenTypeLabel","type","getTokenTypeColor","formatDate","dateString","resetForm","jsxs","jsx","AnimatePresence","motion","AlertCircle","Check","Search","RefreshCw","Plus","Trash2","Clock","Shield","Users","QrCode","X","Copy","Download","Fragment","Loader2"],"mappings":"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","x_google_ignoreList":[0]}