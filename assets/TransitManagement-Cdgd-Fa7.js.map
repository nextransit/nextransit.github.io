{"version":3,"mappings":"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","names":["DollarSign","createLucideIcon","Navigation","Pen","Route","Ticket","MonitoringPanel","lazy","__vitePreload","QuickActions","DispatchTab","DriversTab","TicketingTab","MaintenanceTab","RoutesTab","createRouteSchema","z.object","z.string","z.enum","createStationSchema","z.number","createVehicleSchema","TransitManagement","useTranslation","activeTab","setActiveTab","useState","showModal","setShowModal","modalType","setModalType","expandedRoute","setExpandedRoute","actionError","setActionError","showMonitoringPanel","setShowMonitoringPanel","confirm","dialogProps","useConfirmDialog","routesData","routesLoading","routesError","routesErrorData","refetchRoutes","useRoutes","stationsData","stationsLoading","useStations","vehiclesData","vehiclesLoading","useVehicles","vehicleLocations","useVehicleLocations","createRouteMutation","useCreateRoute","createStationMutation","useCreateStation","createVehicleMutation","useCreateVehicle","deleteRouteMutation","useDeleteRoute","optimizeRouteMutation","useOptimizeRoute","routeForm","useForm","zodResolver","stationForm","vehicleForm","onCreateRoute","data","err","_b","_a","onCreateStation","onCreateVehicle","handleDeleteRoute","routeId","handleOptimizeRoute","stations","vehicles","isDemo","isDemoMode","metrics","Users","v","Bus","AlertCircle","tabs","MapPin","Calendar","Wrench","TrendingUp","chartData","_","i","pieData","jsx","Loader2","jsxs","motion","Activity","Plus","metric","index","tab","Suspense","AnimatePresence","station","Edit2","vehicle","location","l","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","Tooltip","Line","PieChart","Pie","entry","Cell","X","ConfirmDialog"],"ignoreList":[0,1,2,3,4],"sources":["../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/navigation.js","../../node_modules/lucide-react/dist/esm/icons/pen.js","../../node_modules/lucide-react/dist/esm/icons/route.js","../../node_modules/lucide-react/dist/esm/icons/ticket.js","../../src/pages/TransitManagement.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst DollarSign = createLucideIcon(\"DollarSign\", [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n]);\n\nexport { DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Navigation = createLucideIcon(\"Navigation\", [\n  [\"polygon\", { points: \"3 11 22 2 13 21 11 13 3 11\", key: \"1ltx0t\" }]\n]);\n\nexport { Navigation as default };\n//# sourceMappingURL=navigation.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Pen = createLucideIcon(\"Pen\", [\n  [\"path\", { d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z\", key: \"5qss01\" }]\n]);\n\nexport { Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Route = createLucideIcon(\"Route\", [\n  [\"circle\", { cx: \"6\", cy: \"19\", r: \"3\", key: \"1kj8tv\" }],\n  [\"path\", { d: \"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15\", key: \"1d8sl\" }],\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }]\n]);\n\nexport { Route as default };\n//# sourceMappingURL=route.js.map\n","/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Ticket = createLucideIcon(\"Ticket\", [\n  [\n    \"path\",\n    {\n      d: \"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z\",\n      key: \"qn84l0\"\n    }\n  ],\n  [\"path\", { d: \"M13 5v2\", key: \"dyzc3o\" }],\n  [\"path\", { d: \"M13 17v2\", key: \"1ont0d\" }],\n  [\"path\", { d: \"M13 11v2\", key: \"1wjjxi\" }]\n]);\n\nexport { Ticket as default };\n//# sourceMappingURL=ticket.js.map\n","import { useState, Suspense, lazy } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { useTranslation } from 'react-i18next'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { z } from 'zod'\nimport {\n  Plus,\n  Edit2,\n  Trash2,\n  TrendingUp,\n  Users,\n  MapPin,\n  Bus,\n  Route,\n  Clock,\n  DollarSign,\n  Loader2,\n  AlertCircle,\n  RefreshCw,\n  Navigation,\n  Settings,\n  ChevronRight,\n  ChevronDown,\n  X,\n  Calendar,\n  Ticket,\n  Wrench,\n  Activity\n} from 'lucide-react'\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n} from 'recharts'\nimport {\n  useRoutes,\n  useStations,\n  useVehicles,\n  useVehicleLocations,\n  useCreateRoute,\n  useDeleteRoute,\n  useOptimizeRoute,\n  useCreateStation,\n  useCreateVehicle,\n} from '../hooks/useTransit'\nimport { isDemoMode } from '../demo/demoMode'\nimport { ConfirmDialog, useConfirmDialog } from '../components/transit/ConfirmDialog'\nimport type { Route as TransitRoute } from '../types/transit'\n\n// 懒加载新组件\nconst MonitoringPanel = lazy(() => import('../components/transit/MonitoringPanel'))\nconst QuickActions = lazy(() => import('../components/transit/QuickActions'))\nconst DispatchTab = lazy(() => import('../components/transit/DispatchTab'))\nconst DriversTab = lazy(() => import('../components/transit/DriversTab'))\nconst TicketingTab = lazy(() => import('../components/transit/TicketingTab'))\nconst MaintenanceTab = lazy(() => import('../components/transit/MaintenanceTab'))\nconst RoutesTab = lazy(() => import('../components/transit/RoutesTab'))\n\ntype TabType = 'routes' | 'stations' | 'vehicles' | 'dispatch' | 'drivers' | 'ticketing' | 'maintenance' | 'analytics'\n\nconst createRouteSchema = z.object({\n  name: z.string().min(1).max(100),\n  code: z.string().min(1).max(20),\n  description: z.string().optional(),\n  type: z.enum(['CIRCULAR', 'LINEAR', 'EXPRESS', 'SHUTTLE']),\n})\n\ntype CreateRouteFormData = z.infer<typeof createRouteSchema>\n\nconst createStationSchema = z.object({\n  name: z.string().min(1).max(100),\n  code: z.string().min(1).max(20),\n  latitude: z.number().min(-90).max(90),\n  longitude: z.number().min(-180).max(180),\n  address: z.string().min(1).max(200),\n})\n\ntype CreateStationFormData = z.infer<typeof createStationSchema>\n\nconst createVehicleSchema = z.object({\n  plateNumber: z.string().min(1).max(20),\n  type: z.enum(['BUS', 'MINIBUS', 'ELECTRIC_BUS', 'ARTICULATED_BUS']),\n  capacity: z.number().min(1).max(200),\n})\n\ntype CreateVehicleFormData = z.infer<typeof createVehicleSchema>\n\nconst TransitManagement = () => {\n  const { t } = useTranslation()\n  const [activeTab, setActiveTab] = useState<TabType>('routes')\n  const [showModal, setShowModal] = useState(false)\n  const [modalType, setModalType] = useState<'route' | 'station' | 'vehicle'>('route')\n  const [expandedRoute, setExpandedRoute] = useState<string | null>(null)\n  const [actionError, setActionError] = useState<string | null>(null)\n  const [showMonitoringPanel, setShowMonitoringPanel] = useState(true)\n  const { confirm, dialogProps } = useConfirmDialog()\n\n  const { data: routesData, isLoading: routesLoading, isError: routesError, error: routesErrorData, refetch: refetchRoutes } = useRoutes()\n  const { data: stationsData, isLoading: stationsLoading } = useStations()\n  const { data: vehiclesData, isLoading: vehiclesLoading } = useVehicles()\n  const { data: vehicleLocations } = useVehicleLocations()\n\n  const createRouteMutation = useCreateRoute()\n  const createStationMutation = useCreateStation()\n  const createVehicleMutation = useCreateVehicle()\n  const deleteRouteMutation = useDeleteRoute()\n  const optimizeRouteMutation = useOptimizeRoute()\n\n  const routeForm = useForm<CreateRouteFormData>({\n    resolver: zodResolver(createRouteSchema),\n    defaultValues: { type: 'LINEAR' },\n  })\n\n  const stationForm = useForm<CreateStationFormData>({\n    resolver: zodResolver(createStationSchema),\n  })\n\n  const vehicleForm = useForm<CreateVehicleFormData>({\n    resolver: zodResolver(createVehicleSchema),\n    defaultValues: { type: 'BUS', capacity: 40 },\n  })\n\n  const onCreateRoute = async (data: CreateRouteFormData) => {\n    setActionError(null)\n    try {\n      await createRouteMutation.mutateAsync({ ...data, stationIds: [], fareRules: [] })\n      setShowModal(false)\n      routeForm.reset()\n    } catch (err: any) {\n      setActionError(err.response?.data?.message || t('transit.createRouteError'))\n    }\n  }\n\n  const onCreateStation = async (data: CreateStationFormData) => {\n    setActionError(null)\n    try {\n      await createStationMutation.mutateAsync({ ...data, facilities: [], isActive: true })\n      setShowModal(false)\n      stationForm.reset()\n    } catch (err: any) {\n      setActionError(err.response?.data?.message || t('transit.createStationError'))\n    }\n  }\n\n  const onCreateVehicle = async (data: CreateVehicleFormData) => {\n    setActionError(null)\n    try {\n      await createVehicleMutation.mutateAsync({ ...data, features: [], status: 'OPERATIONAL' })\n      setShowModal(false)\n      vehicleForm.reset()\n    } catch (err: any) {\n      setActionError(err.response?.data?.message || t('transit.createVehicleError'))\n    }\n  }\n\n  const handleDeleteRoute = async (routeId: string) => {\n    const ok = await confirm({\n      type: 'danger',\n      title: t('transit.deleteRoute'),\n      message: t('transit.confirmDeleteRoute'),\n      riskWarning: t('transit.deleteRouteWarning')\n    })\n    if (!ok) return\n    setActionError(null)\n    try {\n      await deleteRouteMutation.mutateAsync(routeId)\n    } catch (err: any) {\n      setActionError(err.response?.data?.message || t('transit.deleteRouteError'))\n    }\n  }\n\n  const handleOptimizeRoute = async (routeId: string) => {\n    setActionError(null)\n    try {\n      await optimizeRouteMutation.mutateAsync(routeId)\n    } catch (err: any) {\n      setActionError(err.response?.data?.message || t('transit.optimizeRouteError'))\n    }\n  }\n\n  const routes = routesData?.data || []\n  const stations = stationsData?.data || []\n  const vehicles = vehiclesData?.data || []\n\n  // 增强的统计指标\n  const isDemo = isDemoMode()\n\n  const metrics = [\n    {\n      label: t('transit.todayPassengers'),\n      value: isDemo ? (3480 + Math.floor(Math.random() * 500)).toLocaleString() : '3,480',\n      trend: isDemo ? `+${Math.floor(Math.random() * 15)}%` : '+12%',\n      icon: Users,\n      color: 'primary'\n    },\n    {\n      label: t('transit.todayRevenue'),\n      value: isDemo ? `¥${(6960 + Math.floor(Math.random() * 1000)).toLocaleString()}` : '¥6,960',\n      trend: isDemo ? `+${Math.floor(Math.random() * 10)}%` : '+8%',\n      icon: DollarSign,\n      color: 'success'\n    },\n    {\n      label: t('transit.activeVehicles'),\n      value: vehicles.filter(v => v.status === 'OPERATIONAL').length.toString(),\n      icon: Bus,\n      color: 'warning'\n    },\n    {\n      label: t('transit.alertCount'),\n      value: isDemo ? Math.floor(Math.random() * 5 + 1).toString() : '3',\n      icon: AlertCircle,\n      color: 'error'\n    },\n  ]\n\n  // Tab配置\n  const tabs = [\n    { key: 'routes', label: t('transit.routes'), icon: Route },\n    { key: 'stations', label: t('transit.stations'), icon: MapPin },\n    { key: 'vehicles', label: t('transit.vehicles'), icon: Bus },\n    { key: 'dispatch', label: t('transit.dispatch'), icon: Calendar },\n    { key: 'drivers', label: t('transit.drivers'), icon: Users },\n    { key: 'ticketing', label: t('transit.ticketing'), icon: Ticket },\n    { key: 'maintenance', label: t('transit.maintenanceTab'), icon: Wrench },\n    { key: 'analytics', label: t('transit.analytics'), icon: TrendingUp },\n  ]\n\n  const chartData = isDemo ? Array.from({ length: 7 }).map((_, i) => ({\n    time: `${8 + i * 2}:00`,\n    passengers: Math.floor(Math.random() * 500 + 100),\n    revenue: Math.floor(Math.random() * 1000 + 200)\n  })) : [\n    { time: '08:00', passengers: 120, revenue: 240 },\n    { time: '10:00', passengers: 280, revenue: 560 },\n    { time: '12:00', passengers: 450, revenue: 900 },\n    { time: '14:00', passengers: 380, revenue: 760 },\n    { time: '16:00', passengers: 520, revenue: 1040 },\n    { time: '18:00', passengers: 680, revenue: 1360 },\n    { time: '20:00', passengers: 420, revenue: 840 },\n  ]\n\n  const pieData = isDemo ? [\n    { name: '101路', value: Math.floor(Math.random() * 50 + 10), color: '#6366f1' },\n    { name: '202路', value: Math.floor(Math.random() * 50 + 10), color: '#10b981' },\n    { name: '303路', value: Math.floor(Math.random() * 50 + 10), color: '#f59e0b' },\n    { name: t('transit.other'), value: Math.floor(Math.random() * 30 + 5), color: '#64748b' },\n  ] : [\n    { name: '101路', value: 35, color: '#6366f1' },\n    { name: '202路', value: 28, color: '#10b981' },\n    { name: '303路', value: 22, color: '#f59e0b' },\n    { name: t('transit.other'), value: 15, color: '#64748b' },\n  ]\n\n  const isLoading = routesLoading || stationsLoading || vehiclesLoading\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary-600\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex h-full\">\n      {/* 主内容区 */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className={`flex-1 space-y-6 transition-all duration-300 ${showMonitoringPanel ? 'pr-4' : ''}`}\n      >\n        {actionError && (\n          <div className=\"p-4 bg-error/10 border border-error/20 rounded-lg flex items-center gap-3 text-error\">\n            <AlertCircle className=\"w-5 h-5\" />\n            <span>{actionError}</span>\n            <button onClick={() => setActionError(null)} className=\"ml-auto text-sm hover:underline\">\n              {t('common.dismiss')}\n            </button>\n          </div>\n        )}\n\n        {/* 页面标题和操作栏 */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-display font-bold text-slate-900 dark:text-slate-100\">{t('transit.title')}</h1>\n            <p className=\"text-slate-500 dark:text-slate-400 mt-1\">{t('transit.subtitle')}</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowMonitoringPanel(!showMonitoringPanel)}\n              className={`p-2 rounded-lg transition-colors ${showMonitoringPanel ? 'bg-primary-500 text-white' : 'bg-slate-100 dark:bg-dark-700 text-slate-600 dark:text-slate-400'}`}\n              title={t('transit.monitoring')}\n            >\n              <Activity className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={() => {\n                const modalTypes: Record<string, 'route' | 'station' | 'vehicle'> = {\n                  routes: 'route', stations: 'station', vehicles: 'vehicle'\n                }\n                setModalType(modalTypes[activeTab] || 'route')\n                setShowModal(true)\n              }}\n              className=\"btn-primary flex items-center gap-2\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              {t('common.add')}\n            </button>\n          </div>\n        </div>\n\n        {/* 统计卡片 */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {metrics.map((metric, index) => (\n            <motion.div\n              key={metric.label}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: index * 0.1 }}\n              className=\"stat-card group hover:scale-[1.02] transition-transform\"\n            >\n              <div className=\"flex items-start justify-between\">\n                <div>\n                  <p className=\"text-sm text-slate-500 dark:text-slate-400\">{metric.label}</p>\n                  <p className=\"text-2xl font-display font-bold text-slate-900 dark:text-slate-100 mt-2\">{metric.value}</p>\n                  {metric.trend && (\n                    <p className=\"text-xs text-green-600 dark:text-green-400 mt-1 flex items-center gap-1\">\n                      <TrendingUp className=\"w-3 h-3\" />\n                      {metric.trend}\n                    </p>\n                  )}\n                </div>\n                <div className={`p-3 rounded-xl bg-${metric.color}-500/10 group-hover:bg-${metric.color}-500/20 transition-colors`}>\n                  <metric.icon className={`w-6 h-6 text-${metric.color}-600 dark:text-${metric.color}-400`} />\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </div>\n\n        {/* Tab导航和内容 */}\n        <div className=\"glass-panel\">\n          <div className=\"flex gap-1 p-4 border-b border-slate-200 dark:border-dark-600 overflow-x-auto\">\n            {tabs.map((tab) => (\n              <button\n                key={tab.key}\n                onClick={() => setActiveTab(tab.key as TabType)}\n                className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all whitespace-nowrap ${activeTab === tab.key\n                  ? 'bg-primary-500 text-white shadow-lg shadow-primary-500/25'\n                  : 'text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-dark-700'\n                  }`}\n              >\n                <tab.icon className=\"w-4 h-4\" />\n                {tab.label}\n              </button>\n            ))}\n          </div>\n\n          <div className=\"p-6\">\n            <Suspense fallback={<div className=\"flex justify-center py-8\"><Loader2 className=\"w-6 h-6 animate-spin\" /></div>}>\n              <AnimatePresence mode=\"wait\">\n                {/* 线路管理 */}\n                {activeTab === 'routes' && (\n                  <RoutesTab\n                    onEditRoute={() => { }}\n                    onDeleteRoute={handleDeleteRoute}\n                    onOptimizeRoute={handleOptimizeRoute}\n                  />\n                )}\n\n                {/* 站点管理 */}\n                {activeTab === 'stations' && (\n                  <motion.div key=\"stations\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"space-y-4\">\n                    {stations.length === 0 ? (\n                      <div className=\"text-center py-12 text-slate-500\"><MapPin className=\"w-16 h-16 mx-auto mb-4 opacity-50\" /><p>{t('transit.noStations')}</p></div>\n                    ) : (\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {stations.map((station) => (\n                          <div key={station.id} className=\"p-4 border border-slate-200 dark:border-dark-600 rounded-xl hover:border-primary-500/30 transition-colors\">\n                            <div className=\"flex items-start justify-between mb-2\">\n                              <div><h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">{station.name}</h3><p className=\"text-sm text-slate-500 font-mono\">{station.code}</p></div>\n                              <button className=\"p-1 hover:bg-slate-100 dark:hover:bg-dark-600 rounded\"><Edit2 className=\"w-4 h-4 text-slate-400\" /></button>\n                            </div>\n                            <p className=\"text-sm text-slate-600 dark:text-slate-400 mb-2\">{station.address}</p>\n                            <div className=\"flex items-center gap-2 text-xs text-slate-500\"><MapPin className=\"w-3 h-3\" /><span>{station.latitude.toFixed(6)}, {station.longitude.toFixed(6)}</span></div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </motion.div>\n                )}\n\n                {/* 车辆管理 */}\n                {activeTab === 'vehicles' && (\n                  <motion.div key=\"vehicles\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"space-y-4\">\n                    {vehicles.length === 0 ? (\n                      <div className=\"text-center py-12 text-slate-500\"><Bus className=\"w-16 h-16 mx-auto mb-4 opacity-50\" /><p>{t('transit.noVehicles')}</p></div>\n                    ) : (\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                        {vehicles.map((vehicle) => {\n                          const location = vehicleLocations?.find(l => l.vehicleId === vehicle.id)\n                          return (\n                            <div key={vehicle.id} className=\"p-4 border border-slate-200 dark:border-dark-600 rounded-xl hover:border-primary-500/30 transition-colors\">\n                              <div className=\"flex items-start justify-between mb-2\">\n                                <div><h3 className=\"font-semibold text-slate-900 dark:text-slate-100\">{vehicle.plateNumber}</h3><p className=\"text-sm text-slate-500\">{vehicle.type}</p></div>\n                                {/* 文档优化：状态标签改为浅底+深字形式 */}\n                                <span className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${\n                                  vehicle.status === 'OPERATIONAL' \n                                    ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' \n                                    : vehicle.status === 'MAINTENANCE'\n                                    ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400'\n                                    : 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400'\n                                }`}>\n                                  {vehicle.status === 'OPERATIONAL' ? t('transit.online') : vehicle.status === 'MAINTENANCE' ? t('transit.maintenance') : t('transit.offline')}\n                                </span>\n                              </div>\n                              <div className=\"grid grid-cols-2 gap-2 mb-3\">\n                                <div className=\"p-2 bg-slate-50 dark:bg-dark-700 rounded\"><p className=\"text-xs text-slate-500\">{t('transit.capacity')}</p><p className=\"font-semibold\">{vehicle.capacity}</p></div>\n                                <div className=\"p-2 bg-slate-50 dark:bg-dark-700 rounded\"><p className=\"text-xs text-slate-500\">{t('common.status')}</p><p className=\"font-semibold\">{location ? t('transit.online') : t('transit.offline')}</p></div>\n                              </div>\n                              {location && <div className=\"flex items-center gap-2 text-xs text-slate-500\"><Navigation className=\"w-3 h-3\" /><span>{location.location.speed} km/h</span></div>}\n                            </div>\n                          )\n                        })}\n                      </div>\n                    )}\n                  </motion.div>\n                )}\n\n                {/* 调度管理 */}\n                {activeTab === 'dispatch' && <DispatchTab />}\n\n                {/* 驾驶员管理 */}\n                {activeTab === 'drivers' && <DriversTab />}\n\n                {/* 票务管理 */}\n                {activeTab === 'ticketing' && <TicketingTab />}\n\n                {/* 维修保养 */}\n                {activeTab === 'maintenance' && <MaintenanceTab />}\n\n                {/* 数据分析 */}\n                {activeTab === 'analytics' && (\n                  <motion.div key=\"analytics\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"space-y-6\">\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                      <div className=\"p-4 bg-slate-50 dark:bg-dark-700 rounded-xl\">\n                        <h4 className=\"font-medium text-slate-900 dark:text-slate-100 mb-4\">{t('transit.passengerFlow')}</h4>\n                        <div className=\"h-64\">\n                          <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <LineChart data={chartData}>\n                              <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-slate-200 dark:stroke-dark-600\" />\n                              <XAxis dataKey=\"time\" stroke=\"#64748b\" fontSize={12} />\n                              <YAxis stroke=\"#64748b\" fontSize={12} />\n                              <Tooltip />\n                              <Line type=\"monotone\" dataKey=\"passengers\" stroke=\"#6366f1\" strokeWidth={2} name={t('transit.passengers')} />\n                            </LineChart>\n                          </ResponsiveContainer>\n                        </div>\n                      </div>\n                      <div className=\"p-4 bg-slate-50 dark:bg-dark-700 rounded-xl\">\n                        <h4 className=\"font-medium text-slate-900 dark:text-slate-100 mb-4\">线路客流分布</h4>\n                        <div className=\"h-64\">\n                          <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <PieChart>\n                              <Pie data={pieData} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={80} label>\n                                {pieData.map((entry, index) => (<Cell key={index} fill={entry.color} />))}\n                              </Pie>\n                              <Tooltip />\n                            </PieChart>\n                          </ResponsiveContainer>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      <div className=\"p-4 rounded-xl bg-gradient-to-r from-primary-500/10 to-primary-500/5 border border-primary-500/20\">\n                        <p className=\"text-sm text-slate-600 dark:text-slate-400\">{t('transit.avgDailyPassengers')}</p>\n                        <p className=\"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-2\">3,480</p>\n                      </div>\n                      <div className=\"p-4 rounded-xl bg-gradient-to-r from-success/10 to-success/5 border border-success/20\">\n                        <p className=\"text-sm text-slate-600 dark:text-slate-400\">{t('transit.avgDailyRevenue')}</p>\n                        <p className=\"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-2\">¥6,960</p>\n                      </div>\n                      <div className=\"p-4 rounded-xl bg-gradient-to-r from-accent-500/10 to-accent-500/5 border border-accent-500/20\">\n                        <p className=\"text-sm text-slate-600 dark:text-slate-400\">{t('transit.punctualityRate')}</p>\n                        <p className=\"text-2xl font-bold text-slate-900 dark:text-slate-100 mt-2\">99.8%</p>\n                      </div>\n                    </div>\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </Suspense>\n          </div>\n        </div>\n\n        {/* 底部快捷操作 */}\n        <Suspense fallback={null}>\n          <QuickActions />\n        </Suspense>\n      </motion.div>\n\n      {/* 右侧监控面板 */}\n      <AnimatePresence>\n        {showMonitoringPanel && (\n          <motion.div\n            initial={{ width: 0, opacity: 0 }}\n            animate={{ width: 320, opacity: 1 }}\n            exit={{ width: 0, opacity: 0 }}\n            transition={{ duration: 0.3 }}\n            className=\"flex-shrink-0\"\n          >\n            <Suspense fallback={<div className=\"w-80 h-full bg-white dark:bg-dark-800 flex items-center justify-center\"><Loader2 className=\"w-6 h-6 animate-spin\" /></div>}>\n              <MonitoringPanel />\n            </Suspense>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* 创建模态框 */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n          <motion.div initial={{ opacity: 0, scale: 0.95 }} animate={{ opacity: 1, scale: 1 }} className=\"glass-panel w-full max-w-lg p-6 bg-white dark:bg-dark-800\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-display font-bold text-slate-900 dark:text-slate-100\">\n                {modalType === 'route' && t('transit.createRoute')}\n                {modalType === 'station' && t('transit.createStation')}\n                {modalType === 'vehicle' && t('transit.createVehicle')}\n              </h2>\n              <button onClick={() => setShowModal(false)} className=\"p-2 hover:bg-slate-100 dark:hover:bg-dark-700 rounded-lg transition-colors\">\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {modalType === 'route' && (\n              <form onSubmit={routeForm.handleSubmit(onCreateRoute)} className=\"space-y-4\">\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.routeName')}</label><input {...routeForm.register('name')} className=\"input-field\" placeholder={t('transit.routeNamePlaceholder')} /></div>\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.routeCode')}</label><input {...routeForm.register('code')} className=\"input-field\" placeholder={t('transit.routeCodePlaceholder')} /></div>\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.routeType')}</label><select {...routeForm.register('type')} className=\"input-field\"><option value=\"LINEAR\">{t('transit.linear')}</option><option value=\"CIRCULAR\">{t('transit.circular')}</option><option value=\"EXPRESS\">{t('transit.express')}</option><option value=\"SHUTTLE\">{t('transit.shuttle')}</option></select></div>\n                <div className=\"flex gap-3 mt-6\"><button type=\"button\" onClick={() => setShowModal(false)} className=\"flex-1 btn-secondary\">{t('common.cancel')}</button><button type=\"submit\" disabled={createRouteMutation.isPending} className=\"flex-1 btn-primary\">{createRouteMutation.isPending && <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />}{t('common.confirm')}</button></div>\n              </form>\n            )}\n\n            {modalType === 'station' && (\n              <form onSubmit={stationForm.handleSubmit(onCreateStation)} className=\"space-y-4\">\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.stationName')}</label><input {...stationForm.register('name')} className=\"input-field\" /></div>\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.stationCode')}</label><input {...stationForm.register('code')} className=\"input-field\" /></div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.latitude')}</label><input type=\"number\" step=\"any\" {...stationForm.register('latitude', { valueAsNumber: true })} className=\"input-field\" /></div>\n                  <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.longitude')}</label><input type=\"number\" step=\"any\" {...stationForm.register('longitude', { valueAsNumber: true })} className=\"input-field\" /></div>\n                </div>\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.address')}</label><input {...stationForm.register('address')} className=\"input-field\" /></div>\n                <div className=\"flex gap-3 mt-6\"><button type=\"button\" onClick={() => setShowModal(false)} className=\"flex-1 btn-secondary\">{t('common.cancel')}</button><button type=\"submit\" disabled={createStationMutation.isPending} className=\"flex-1 btn-primary\">{createStationMutation.isPending && <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />}{t('common.confirm')}</button></div>\n              </form>\n            )}\n\n            {modalType === 'vehicle' && (\n              <form onSubmit={vehicleForm.handleSubmit(onCreateVehicle)} className=\"space-y-4\">\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.plateNumber')}</label><input {...vehicleForm.register('plateNumber')} className=\"input-field\" /></div>\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.vehicleType')}</label><select {...vehicleForm.register('type')} className=\"input-field\"><option value=\"BUS\">{t('transit.bus')}</option><option value=\"MINIBUS\">{t('transit.minibus')}</option><option value=\"ELECTRIC_BUS\">{t('transit.electricBus')}</option><option value=\"ARTICULATED_BUS\">{t('transit.articulatedBus')}</option></select></div>\n                <div><label className=\"block text-sm text-slate-500 dark:text-slate-400 mb-2\">{t('transit.capacity')}</label><input type=\"number\" {...vehicleForm.register('capacity', { valueAsNumber: true })} className=\"input-field\" /></div>\n                <div className=\"flex gap-3 mt-6\"><button type=\"button\" onClick={() => setShowModal(false)} className=\"flex-1 btn-secondary\">{t('common.cancel')}</button><button type=\"submit\" disabled={createVehicleMutation.isPending} className=\"flex-1 btn-primary\">{createVehicleMutation.isPending && <Loader2 className=\"w-4 h-4 animate-spin mr-2\" />}{t('common.confirm')}</button></div>\n              </form>\n            )}\n          </motion.div>\n        </div>\n      )}\n\n      {/* 确认对话框 */}\n      <ConfirmDialog {...dialogProps} />\n    </div>\n  )\n}\n\nexport default TransitManagement\n"],"file":"assets/TransitManagement-Cdgd-Fa7.js"}